!async function(t,e,n,S,H,O,Z,o,B,C,D,K,i,U,a,V,p,c,l,r,W,X,s,Y,f,u,h,j,G,J,w,Q,$,ee,te,ne,oe,ie,ae,le,re,se,d,pe,g,m,ce,x,y,fe,ue,_,he,we,b,de,ge,me,xe,ye,v,_e,be,ve,Te,ke,Fe,Le,Me,Ee,Pe,qe,ze,T,Ne,Re,k,Ae,Ie,Se,He,Oe,Ze,Be,Ce,De,Ke,Ue,Ve,We,Xe,Ye,je,Ge,Je,Qe,$e,et){qe(".pswp--ui-visible .pswp__gallery-caption,.pswp__gallery-caption{transition:background-color .2s}.pswp__gallery-caption a,.pswp__gallery-caption a.chapter-link{text-decoration:underline 1px dotted;text-underline-offset:5px}.pswp__gallery-caption{font-family:Montserrat,sans-serif;font-weight:400;font-size:20px;line-height:26px;background:#333333bf;max-width:1040px;width:auto;padding:5px 15px;color:#fff;border-radius:3px;position:absolute;left:50%;bottom:16px;transform:translateX(-50%);box-shadow:0 0 4px 0 rgba(255,255,255,.25);max-height:88px;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis}.pswp__gallery-caption:hover{background:#333}.pswp__gallery-caption a,.pswp__gallery-caption cite{color:#fff;font-style:normal;font-weight:400}.pswp__gallery-caption a.chapter-link{border-left:2px solid #77777770;margin-left:10px;padding-left:10px;font-family:Merriweather,serif;font-weight:400;float:right;font-size:16px;max-width:300px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}"),await o();var F,L,M,E,P,q,z,N,R,A=e.body,tt=this,I=(n.requestFullscreen?(P="requestFullscreen",q="exitFullscreen",z="fullscreenElement",N="fullscreenchange",R="fullscreenerror"):n.webkitRequestFullscreen&&(P="webkitRequestFullscreen",q="webkitExitFullscreen",z="webkitFullscreenElement",N="webkitfullscreenchange",R="webkitfullscreenerror"),(M=E=P?{request:function(e){"webkitRequestFullscreen"===P?e[P](Element.ALLOW_KEYBOARD_INPUT):e[P]()},exit:function(){return e[q]()},isFullscreen:function(){return e[z]},change:N,error:R}:E)&&(L=fe(ke,{class:"fullscreen",style:"display:none"}),_(A,L)),c(".img-caption a,a.img-caption,a.ic-gallery,.photogallery figure a"));if(I.length){let n=[];I.forEach(e=>{if(!w(e,"nogallery")){if(!f(e,"data-pswp-width")){var t=p("img",e);if(!t)return;u(e,{"data-pswp-width":f(t,"data-pswp-width"),"data-pswp-height":f(t,"data-pswp-height")})}n.push(e)}}),He(I=n,async function(){var n;F||(F=!0,await Ce("photo",tt),(n=new PhotoSwipeLightbox({pswpModule:PhotoSwipe,gallery:".content > main",children:I,showHideAnimationType:L?"fade":"zoom",openPromise:function(){return k(async function(t){M?(M.isFullscreen()&&(M.exit(),await k(function(e){function t(){e&&(e(),e=!1)}T("fs",t),setTimeout(t,300)})),T("fs",function(e){l(L),setTimeout(function(){t()},300)}),M.request(L)):t()})},appendToEl:L||A,closeTitle:s("close_photo"),zoomTitle:s("zoom_photo"),arrowPrevTitle:s("prev_photo"),arrowNextTitle:s("next_photo"),errorMsg:s("error_photo"),initialZoomLevel:function(e){return t.matchMedia("(max-width: 600px) and (orientation: portrait)").matches?e.vFill:e.fit},maxZoomLevel:20,allowPanToNext:!0,mouseMovePan:!1,wheelToZoom:!0})).on("close",function(){M&&(r(L),M.isFullscreen())&&M.exit()}),n.on("open",function(){i("photogallery_"+n.getCurrentIndex(),"photogallery","Photogallery Open")}),n.on("uiRegister",()=>{n.pswp.ui.registerElement({name:"gallery-caption",order:9,isButton:!1,appendTo:"root",html:"",onInit:(t,e)=>{n.pswp.on("change",()=>{let e,o=n.pswp.currSlide.data.element,i=!1,a;if(o){var l=w(o,"img-caption")?o:de(o,"img-caption");l?(s=p("span",l))&&(i=s.innerHTML.trim()):w(o,"ic-gallery")&&(i=h(o,"data-caption")?f(o,"data-caption"):o.innerText),i=i||f(p("img",o),"alt");let e=l||o,t=b(e);for(;t&&"MAIN"!==t.nodeName;)e=t,t=b(t);let n=v(e);for(var r=/h([0-9])/i;n&&(!r.test(n.nodeName)||n.classList.contains("chapter")&&n.classList.contains("subchapter"));)n=v(n);n&&n.id&&(a=y("a",{href:"#"+n.id,"data-chapter-id":n.id,class:"chapter-link"},[y("span",{class:"chapter"}),we(" "),y("span",{class:"name"})]),et(a))}t.innerHTML=i||"",a&&((e=me(t,!1))?_e(e,a):_(t,a));var s=c("a",t);s.length&&m("click",function(){n.pswp.close()},s)})}})}),n.init(),M&&g(M.change,function(e,t){t=!!M.isFullscreen(),Re("fs",t),!t&&n.pswp&&n.pswp.close()},e),ze("menu",function(){n&&n.pswp&&n.pswp.close()}))}),x(function(){d(I,function(e,t){(t=p("a",t))&&u(t,{href:a(f(t,"href"))})})})}}.apply(null,VRS);