!function(T,b){var f,U,k,e,t,z,B,W,K,i,F,r,u,o,a,A,J,c,l,Q,$,Y,Z,ee,te,ne,re,ae,ie,oe,ce,se,d,fe,ue,le,de,pe,he,me,ge,ve,ye,Te,p=this,be=b.addEventListener,ke=T.requestAnimationFrame,Ae="localStorage"in T&&T.localStorage,xe="history"in T&&"function"==typeof history.pushState,s=b.documentElement,we=b.location,Ie=(we.hash&&decodeURI(we.hash.substr(1)),navigator?navigator.userAgent:0),_e={chapter:!1,subchapter:!1,prev:!1,next:!1},Ne="[data-i],[data-z],[data-anim]",He={},Ee={},Se={},Le={},Ge=[],x={},Me=/%(\d+)\$s/g,je=/[^a-z0-9]+/g,Oe=2<=(0|T.devicePixelRatio),Pe=[],Ce=".webp",De=/(\.(jp(e)?g|gif|bmp|png|tiff))/gi,Xe=!(!(Ie&&(Ie=Ie.match(/.*\bChrome\/([0-9\.]+)|.*\bFirefox\/(\d+)\b.*/))&&(Ie[1]||Ie[2]&&65<=parseInt(Ie[2])))&&(ye=[],ve=!0,(Te=new Image).onload=Te.onerror=function(){Xe=0<Te.height,ve=!1,qe(ye,Xe)},Te.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"));function Re(e,t){return t=t||0,Array.prototype.slice.call(e,t)}function Ve(e,t,n){return n=T.matchMedia(e),t?!!n.matches:n}function qe(e){for(var t=Re(arguments,1),n=(e.length,e.shift());n;)n.apply(null,t),n=e.shift()}function w(e,t,n){if(ke?T.requestAnimationFrame(e):setTimeout(e),t)return function(){}}function I(){var e=Re(arguments);return e[0]instanceof Error||(e[0]=new Error(e[0])),console.error.apply(console,e),e[0]}function Ue(){console.log.apply(console,Re(arguments))}function _(e,t,n,r){if(t=t||b,j(e)){r=[];for(var a of e)r.push(_(a,t,n));return r}return n?t.querySelectorAll(e):t.querySelector(e)}function N(e,t){return _(e,t,!0)}function H(e,t){return e?e.getAttribute(t):void 0}function E(e,t){return!!e&&e.hasAttribute(t)}function S(e,t,n){var r,a,i;if(j(e))for(var o of e)S(o,t);else{Ke(t)&&(r=t,(t={})[r]=n);for([a,i]of Object.entries(t))null===i?ze(e,a):e.setAttribute(a,i)}}function ze(e,t){if(h(e))for(var n of e)ze(n,t);else for(var r of t=j(t)?t:[t])e.removeAttribute(r)}function L(e,t,n,r){r=!1;for(var a of t=j(t)?t:[t])if(e.classList.contains(a)){if(r=!0,n)return r}else if(!n)return!1;return r}function G(e,t,n){if(h(e))for(var r of e)G(r,t,n);else for(var a of t=j(t)?t:[t])n?e.classList.remove(a):e.classList.add(a)}function M(e){return void 0===e}function Be(e,t,n){return n="object"==typeof e&&null!==e,!(t&&n&&j(e))&&n}function j(e){return e instanceof Array}function h(e){return j(e)?!e[0]||e[0]instanceof Node||e[0]===T:e instanceof NodeList||e instanceof HTMLCollection}function We(e,t){return typeof e===t}function Ke(e){return We(e,"string")}function Fe(e){return We(e,"function")}function O(e,t,n,r,a,i){try{if(M(n))return I("no element",e,t);if(-1===r&&(r={passive:!0,once:!0}),j(e)){a=[];for(var o of e)a.push(O(o,t,n,r));return function(){for(var e of a)e()}}for(var c of n=h(n)?n:[n])if(c)if(be)i=-1!==["touchstart"].indexOf(e),c.addEventListener(e,t,i?Object.assign({passive:!0},r||{}):r||!1);else if(c.attachEvent)"DOMContentLoaded"===e&&(e="load",c=T),c.attachEvent("on"+e,t);else try{c["on"+e]=t}catch(e){}return function(){return Qe(e,t,n)}}catch(e){I(e)}}function Je(e,t,n,r,a){return a=O(e,function(e){r||(r=!0,t(e),a())},n,-1),function(){r=!0,a()}}function Qe(e,t,n){if(j(e))for(var r of e)Qe(r,t,n);else for(var a of n=h(n)?n:[n])a&&(be?a.removeEventListener(e,t,!1):n.attachEvent&&a.detachEvent("on"+e,t))}function m(e,t,n,r,a){a=(a=a||b).createElement(e);return t&&S(a,t),n&&Ye(a,n,r),a}function P(e,t,n,r){var a;return e?(a=e.cloneNode(!0),t&&S(a,t),n&&Ye(a,n,r),a):I("no el",e,t,n)}function $e(e){return e instanceof Node&&"TEMPLATE"!==e.nodeName?P(e):j(e)?P(k,null,e.map(P)).children:Array.from(P(e.content).children)}function Ye(e,t,n){if(h(t)||(t=[t]),n&&1===t.length)e.innerHTML=t[0];else{n&&(e.innerHTML="");for(var r of t)n?e.innerHTML+=r:C(e,r=Ke(r)?tt(r):r)}}function C(e,t){for(var n of t=h(t)?t:[t])n&&(Ke(n)&&(n=tt(n)),e.appendChild(n))}function Ze(n,e){if(j(e)||h(e))return q(e,function(e,t){D(n).insertBefore(t,n)});D(n).insertBefore(e,n)}function et(e,t){return t=b.createDocumentFragment(),e&&C(t,e=h(e)?Array.from(e):e),t}function tt(e,t){if(!t)return b.createTextNode(e);e.textContent=t}function nt(e){if(j(e)||h(e))return q(e,function(e,t){nt(t)});for(;ft(e,!1);)at(ft(e,!1))}function rt(e,t){return h(t)&&(t=et(t)),D(e).replaceChild(t,e),t}function at(e,n){q(e=h(e)?e:[e],(e,t)=>{(n=D(t))&&n.removeChild(t)})}function g(e,t,n){for(var[r,a]of Object.entries(t))M(a)?e.style.removeProperty(r):e.style.setProperty(r,a,n?"":"important")}function it(e,t){return T.getComputedStyle(e).getPropertyValue(t)}function ot(e){T.loadCSS(e)}function ct(e,t){if(e)if(h(e))for(var n of e)ct(n,t);else t?e.style.setProperty("display","none"):e.style.removeProperty("display")}function st(e){ct(e,1)}function D(e,t,n){return n=e.parentElement,1<(t=t||1)?D(n,--t):n}function ft(e,t){return(t=!!M(t)||t)?e.firstElementChild:e.firstChild}function ut(e,t,n){return n=e.nextElementSibling,1<(t=t||1)?ut(n,--t):n}function X(e,t,n,r,a){for(Ke(t)&&(a=t,t=function(e){return L(e,a)}),n&&(r=0);e&&!t(e);){if(n&&n<r)return!1;if(e===f)return!1;e=D(e),n&&r++}return e}function lt(e){var t=P(k);return t.innerHTML=e,Re(t.childNodes)}function R(e,t,n,r,a){if(a=!!M(n)||!!n,r=H(e,t))try{return JSON.parse(r)}catch(e){if(a)return I(e),!1}return r}function V(e,t,n,r){var a;!0===t&&(n=!0,t=void 0),!n&&(n=e.getBoundingClientRect(),M(a)&&(a=45),n.top>=a)&&n.bottom<=(T.innerHeight||b.documentElement.clientHeight)||(t=(M(t)?{block:"start",inline:"nearest",behavior:"smooth"}:t)||{},r&&(t.margin=r),(M(t.margin)||t.margin)&&(t.margin||(t.margin=parseInt(it(e,"height"))),e.style.scrollMargin=t.margin+"px"),e.scrollIntoView(t))}async function q(e,t,n,r){for(var[a,i]of Object.entries(e))r=t(a,i),n&&await r}function dt(){return state=b.readyState,ie=!(!ie&&"complete"!==state&&"interactive"!==state)||ie}async function pt(r){return dt()?(r&&r(),!0):!0!==r?mt(function(e,t,n){(n=function(){w(function(){(dt()?(r&&r(),e):n)()})})()}):void 0}async function ht(n){return F?(n&&n(),!0):mt(function(e,t){Ge.push(function(){n&&n(),e()})})}function mt(e,t){if(j(e)){t=[];for(var n of e)t.push(mt(n));return gt(t)}return new Promise(e)}function gt(e){return Promise.all(e)}function vt(e){c&&clearTimeout(c),e?A("#",Z=e):c=setTimeout(function(){A("#",Z=e)},100)}function yt(i,o){return new Promise(function(e,t,n,r,a){r=function(){a||(vt(!1),a=!0,e(),n())},vt(!0),n=O(xe?"popstate":"hashchange",r,T),i(),o&&xe&&r()})}function Tt(){}async function bt(){ge||(ge=!0,await v("social",p),O("click",function(e){e.preventDefault(),A("menu:close")},_(".widget.socialwidget .close")))}function kt(e,...n){return e.replace(Me,(e,t)=>void 0!==n[t-1]?n[t-1]:e)}function At(e,r,t,a,i,n,o,c){function s(){c||(c=1,It(e,n,!0))}return Be(t,!0)||(t={rootMargin:"300px 0px",threshold:[0]}),{stop:function(){s()},observer:n=wt(function(e,t,n){n=i?i(e,t):e.isIntersecting,!a&&!n||!a&&o||(o=!0,r(n,e,t),a)||s()},t,e),observe:function(e,t){It(e,n,t)}}}function xt(r,e,t){M(e)&&(e=0),At(t||r,function(e,t,n){G(r,"sticky",!e)},{threshold:[1],rootMargin:"-"+(e+1)+"px 0px 0px 0px"},!0,function(e){return e.intersectionRatio<1})}function wt(n,e,t,r){return r=new IntersectionObserver(function(e){for(var t of e)n(t,t.target)},e),t&&It(t,r),r}function It(e,t,n){for(var r of e=h(e=Ke(e)?N(e):e)?e:[e])n?t.unobserve(r):t.observe(r)}async function _t(n,r,a){if(j(n)){a=[];for(var e of n)a.push(_t(e));return gt(a)}return mt(function(t,e){a=Be(n,!0)?n:{src:n},(r=P(jt,a)).onload=()=>{t()},r.onerror=e=>{t(e)},C(U,r)})}function Nt(n,r,a,e){return Xe?(r&&(Je("error",function(e,t){r.src=n,a&&a(error,n,r)},r),a)&&Je("load",function(){a(!1,n,r)},r),n.replace(De,Ce)):ve?mt(function(e){ye.push(function(){e(Nt(n,r,a))})}):(a&&w(function(){a(!0,n,r)}),n)}function Ht(e){return x.bab?x.bab+e:e}function Et(e,t,n,r){return r=!(!Oe||n&&E(n,"data-no2x"))&&Oe,Nt(Ht("/i/")+e+(r?"@2/":"")+t,n)}function St(e,t,n,r){return n=R(e,"data-video"),t=P(e,{autoplay:"true"}),n&&(r=n.size)&&(S(t,{width:r[0],height:r[1]}),g(t,{width:r[0]+"px","aspect-ratio":r[0]/r[1]})),rt(e,t),G(t,"resolved"),O(["play","pause","ended"],function(e){G(X(t,"video-frame"),"playing","play"!==e.type)},t),q(_("source[data-src]",t,!0),function(e,t){S(t,{src:H(t,"data-src")})}),t}async function Lt(n,r,e,t,a,i,o){var c;r=H(n,"data-i"),o=L(n,"shape"),r&&(t=!!l&&H(n,"data-d"),e=H(n,"data-s"))&&(a=Et(e,r=t||r,n),"IMG"===n.nodeName?(S(n,{src:a}),o&&g(n,{"shape-outside":"url("+a+")"})):"VIDEO"===n.nodeName?S(n,{poster:a}):g(n,{"background-image":"url("+a+")"})),(r=H(n,"data-z"))&&("video"===r?(r="VIDEO"===n.nodeName?n:_("video",n))?(t=E(r,"autoplay"),O(E(r=t?St(r):r,"data-mouse")?["click","mouseover","touchstart"]:["click"],function(e,t){(t=X(r,"video-frame"))&&L(t,"playing")||(r=L(r,"resolved")?r:St(r)).play()},[r,X(r,"playlink")||D(r)]),t&&r.play()):(r=L(n,"playlink")?n:_(".playlink",n))&&O("click",function(e,t){(t=R(r,"data-video"))&&"youtube"===t.type&&(e.preventDefault(),rt(r,m("iframe",{src:"https://www.youtube.com/embed/"+t.id+"?autoplay=1&loop=1",width:t.size[0],height:t.size[1],frameborder:"0",allowfullscreen:"true",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",style:"aspect-ratio:"+t.size[0]/t.size[1]+";width:"+(t.size[2]?t.size[0]+"px":"100%")+";height:auto;"})),r=X(n,"video-frame"))&&(S(n,{class:(t.class||[]).concat(["embedded"]).join(" ")}),V(n))},r):((t=!!l&&H(n,"data-zd"))&&(r=t),c=Ht("/images/"),(a=Nt(r=r.replace(/^\/images\//,c),n,!1))instanceof Promise&&(a=await a),S(n,{src:a}),o&&g(n,{"shape-outside":"url("+a+")"}))),(r=H(n,"data-anim"))&&(c=Ht("/images/"),a=c+`anim/${r}.webp`,e=!(t=function(){g(n,{"background-image":"url("+a+")"}),G(n,"anim")}),Je("load",t,r=new Image),Je("error",Ue,r),r.src=a)}function Gt(){let e=Re(arguments);w(function(){Lt.apply(Lt,e)})}function Mt(e,t,n,r){!0===e&&(e=!(n=!0));var a=!!Xe;return r&&(Xe=!1),q(IMGS=Array.from(e||N(Ne,t||!1)),function(e,t){(n?Lt:Gt)(t)}),r&&(Xe=a),IMGS}k=m("div"),Ie=m("span"),t=P(e=m("a",{href:"#"}),{target:"_blank",rel:"noopener"}),Tt.prototype={on:function(e,n,r){if(j(e)){let t=[];for(var a of e)t.push(u(a,n,r));return()=>{for(var e of t)e()}}var t=this.e||(this.e={});return(t[e]||(t[e]=[])).push({fn:n,ctx:r}),()=>{this.off(e,n)}},once:function(e,t,n){var r=this;function a(){r.off(e,a),t.apply(n||null,arguments)}return a._=t,this.on(e,a,n)},emit:function(e){var t,n=Re(arguments,1),e=((this.e||(this.e={}))[e]||[]).slice();e.length;for(t of e)t.fn.apply(t.ctx,n);return this},emit_async:async function(e){for(var t,n=Re(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),a=0,i=r.length;a<i;a++)(t=r[a].fn.apply(r[a].ctx,n))instanceof Promise&&await t;return this},off:function(e,t){if(j(e))for(var n of e)this.off(n,t);else{var r=this.e||(this.e={}),a=r[e],i=[];if(a&&t)for(var o=0,c=a.length;o<c;o++)a[o].fn!==t&&a[o].fn._!==t&&i.push(a[o]);i.length?r[e]=i:delete r[e]}return this}},r=new Tt,o=function(){return r.once.apply(r,arguments)},a=function(){r.off.apply(r,arguments)},A=function(){r.emit.apply(r,arguments)},(u=function(){return r.on.apply(r,arguments)})("menu",function(e,t,n){n&&"socialwidget"===e.key&&bt()}),u("menu",async function(e,t,n){n&&"language-index"===e.key&&(await v("lg-widget",p),SETUP_LG_WIDGET(e))});var jt=m("script",{async:!0});function Ot(e,t){if(He[e])for(var[n,r]of Object.entries(He[e]))t[Ee[e][n]]=r}function Pt(n,r){var e=n,t=void 0;if(!Se[e]&&(Se[e]=!0,t=Ct(e)))for(var a of t)a&&_t(a);return mt(function(t){He[n]?(r&&Ot(n,r),t(He[n])):o("vrs:"+n,function(e){r&&Ot(n,r),t(He[n])})})}function Ct(e,t){let n="/js/";if(["printer-export"].includes(e)&&(n="/js-dev/"),n=(x.bab||"")+n,"print-css"===e){if(!T.printcss)return He[e]=[],Ee[e]=[],A("vrs:"+e,[]),!1;t=n+"print/"+T.printcss+".js"}else t=n+e+".js";return[t]}async function v(e,t){return Xt(!1,e,t)}async function Dt(e){q(e=j(e)?e:[e],function(e,t,n){if(!Le[t]&&!Se[t]&&(Le[t]=!0,n=Ct(t))){i=i||m("link",{rel:"preload",as:"script"});for(var[r,a]of n.entries())C(U,P(i,{src:a}))}})}async function Xt(t,e,n,r){n=n||p,await ht(),r=[];for(var a of e=j(e)?e:[e])r.push(Pt(a,n));return gt(r).then(function(e){return t&&t(e),e})}function Rt(n,r){return q(Pe,function(e,t){t.btn!==n&&t.key!==n||((r=t).index=e)}),r}async function Vt(e,r,a){if(qt(),a=Rt(e)){if(!a.target&&("bottom"===a.position&&(a.target=_("#"+a.key+",.widget."+a.key),Pe[a.index]=a),!a.target))return I("no target",a);if(!(M(r)&&(r=a.active_el||a.btn?!L(a.active_el||a.btn,"active"):r)&&a.target&&L(a.target,"show"))){r&&(ee=a,yt(function(){xe?history.pushState("dropmenu",null,null):we.hash="#dropmenu"},!0));let e;return a.setup||(a.modules&&await v(a.modules,p),e=!0,a.setup=!0,a.target&&g(a.target,{display:void 0}),a.btn&&"LI"===D(a.btn).nodeName&&(Pe[a.index].active_el=D(a.btn))),A("menu",a,r,e),mt((e,t)=>{w(async function(){G(s,"fromsticky",!r||!L(z,"sticky"));let n=/^dropmenu($|_)/;q(s.classList,function(e,t){n.test(t)&&G(s,t,!0)}),G(s,["dropmenu","dropmenu_"+a.position,"dropmenu_"+a.key,"noscroll"],!r),a.html_class&&G(s,a.html_class,!r),q(Pe,function(e,t){t.target&&G(t.target,"show",!0),(t.active_el||t.btn)&&G(t.active_el||t.btn,"active",!0)}),r&&(G(a.target,"show",!r),a.active_el||a.btn)&&G(a.active_el||a.btn,"active",!r),a.rendered=!0,A("menu_render",a,r),e(a)})})}w(function(){G(a.target,"show",!0),Vt(e,r)})}}function qt(e){if((e=e||ee)&&e.events)try{for(var t of e.events)Fe(t)&&t()}catch(e){}}function Ut(e){(e=ee)&&(e.rendered=!1),w(function(){{G(s,["noscroll","fromsticky"],!0);let n=/^dropmenu($|_)/;q(s.classList,function(e,t){n.test(t)&&G(s,t,!0)}),q(Pe,function(e,t){t.target&&G(t.target,"show",!0),(t.active_el||t.btn)&&G(t.active_el||t.btn,"active",!0)})}}),ee=!1,qt(e),A("menu_close"),"dropmenu"===history.state&&yt(function(){history.back()})}function zt(t,e,n,r){return t.key?Rt(t.key)?I("menu exists: "+t.key):(e?(r=R(e,"data-config"),(t=r?Object.assign(r,t):t).position||X(e,"reader")&&(t.position="bottom"),t.modules&&(t.modules=t.modules.split(","),O(["mouseover","touchstart","focus"],function(e){v(t.modules,p)},e)),t.btn=e):t.btn=!1,n||(t.target?Ke(t.target)&&(n=_(t.target)):n=_("#"+t.key+",.widget."+t.key)),n?(r=R(n,"data-config"),(t=r?Object.assign(r,t):t).target=n,t=Object.assign({position:"top",events:[]},t),void Pe.push(t)):I("menu",t.key)):I("menu",t)}u("esc",function(){Ut()}),O(["hashchange","popstate"],function(e){Z||Ut()},T),u("#",function(e){Z=e}),u("menu:close",function(){Ut()}),pt(function(){w(function(){(menubtns=N("[data-menu],[data-menu-open]")).length&&(q(menubtns,function(e,t,n,r,a,i,o,c){(a=H(t,"data-menu"))&&zt({key:a},t)}),O("click",function(e,t,n,r){e.preventDefault(),(t=X(e.target,function(e){return E(e,"data-menu")||E(e,"data-menu-open")}))&&(e.stopPropagation(!0),Rt(e=E(t,"data-menu")?t:H(t,"data-menu-open")),Vt(e))},menubtns))})}),O(["click"],async function(e,t,n,r,a,i){if(t=e.target,ee){for(a=ft((n=ee).target);t&&t!==f;){if(t===a||t===n.btn||t!==e.target&&L(t,"widget"))return;if("A"===t.nodeName&&Rt(t))return;t=D(t)}Ut()}},T);var Bt,Wt,Kt,Ft,Jt,Qt,$t,Yt,n,Zt={};function y(e,t,n,r){e.customClasses&&G(e,e.customClasses,!0),r&&r.readerInfo&&r.readerInfo.classes&&(G(e,r.readerInfo.classes),e.customClasses=r.readerInfo.classes),!t&&""!==t||(e.innerHTML=t),isNaN(n)?S(e,{"data-index":void 0}):S(e,{"data-index":n})}function en(e,t,n){return"link"===e.type&&e.chapterTitle?e.chapterTitle:(n=e.chapterTitle||e.innerHTML,!1!==t&&e.chapterIndex?e.chapterIndex+" "+n:n)}function tn(e,t){return t=!!e&&parseInt(H(e,"data-index")),!isNaN(t)&&t}function nn(e,t){Ut(),e="object"==typeof e?tn(e):e,isNaN(e)||!1===e||(Kt&&clearTimeout(Kt),Ft&&(Ft(),Ft=!1),t=HTAGS[e],(W=t).readerInfo,an(t),B=!0,Ft=O("scroll",function(e){Kt&&clearTimeout(Kt),Kt=setTimeout(function(){B=!1,Ft(),Ft=!1},1e3)},T),V(t,{inline:"start",behavior:"smooth"}),e=t.chapterTitleText||t.innerText,T.history&&T.history.pushState("",e,b.location.pathname+"#"+t.id),b.title=e)}function rn(){var r=null,a=Number.MAX_VALUE;HTAGS.forEach(function(e){var t=e.getBoundingClientRect(),n=T.innerHeight-t.bottom;t.top<T.innerHeight&&n<a&&(r=e,a=n)}),an(r)}function an(t){var e,n,r,a;if(t){NEXTTAG=HTAGS.slice(HTAGS.indexOf(t)+1).shift(),Bt=NEXTTAG;let e=1;for(;Bt&&!Bt.arrow;)e++,Bt=HTAGS.slice(HTAGS.indexOf(t)+e).shift();var i,o,c,s=HTAGS.slice(0,HTAGS.indexOf(t));for(PREVTAG=s.pop(),Wt=PREVTAG;Wt&&!Wt.arrow;)Wt=s.pop();c=L(t,"subchapter")||"link"===t.type||t.readerInfo&&t.readerInfo.subchapter?(i=t,o=HTAGS.lastIndexOf(i),HTAGS.slice(0,o).filter(function(e){return!(!e.readerInfo||!e.readerInfo.chapter)||e.classList.contains("chapter")}).pop()):t}else NEXTTAG=!1,PREVTAG=Bt=!1,PREVLIN=!1;c&&(e=c.id),i&&(n=i.id),PREVTAG&&(r=PREVTAG.id),NEXTTAG&&(a=NEXTTAG.id);var f=(f=i?i.index:!!c&&c.index)&&parseInt(f);w(function(){G(N("li.active",pe),"active",!0),q(he,function(e,t){f===t.index&&G(D(t),"active")})}),_e.chapter===e&&_e.subchapter===n&&_e.prev===r&&_e.next===a||(_e.chapter=!!c&&c.id,_e.subchapter=!!i&&i.id,_e.prev=!!PREVTAG&&PREVTAG.id,_e.next=!!NEXTTAG&&NEXTTAG.id,w(function(){var e;c?(y(ce,en(c),c.index,c),i?(y(se,en(i),i.index,i),G(oe,"no-subchapter",!0)):(y(se),G(oe,"no-subchapter"))):(ce.innerHTML=re,y(ce,re),y(se),G(oe,"no-subchapter"),NEXTTAG=HTAGS[0]),Wt?(y(fe,!1,HTAGS.indexOf(Wt)),S(fe,{title:P(k,null,Wt.chapterTitle,!0).innerText,href:"#"+(Wt.id||"")}),G(d,"no-prev",!0)):(S(fe,{title:"",href:"#"}),G(d,"no-prev"),y(fe)),NEXTTAG&&(L(NEXTTAG,"subchapter")||"link"===NEXTTAG.type?(e=HTAGS.lastIndexOf(NEXTTAG),(e=HTAGS.slice(0,e).filter(function(e){return!(!e.readerInfo||!e.readerInfo.chapter)||L(e,"chapter")}).pop()).id===_e.chapter?(y(le,""),G(d,"same-chapter")):(y(le,en(e),e.index,e),G(d,"same-chapter",!0)),y(de,en(NEXTTAG),NEXTTAG.index,NEXTTAG),G(d,"no-subchapter",!0)):(y(de,""),y(le,en(NEXTTAG),NEXTTAG.index,NEXTTAG),G(d,"no-subchapter"),G(d,"same-chapter",!0))),Bt?(e=HTAGS.indexOf(Bt),y(ue,!1,e,!!e&&HTAGS[e]),S(ue,{title:P(k,null,Bt.chapterTitle,!0).innerText,href:"#"+(Bt.id||"")}),G(d,"no-next",!0)):(y(ue),S(ue,{title:"",href:"#"}),G(d,"no-next"))}))}function on(e,t,n,r){t=H(e,"data-chapter-id"),"A"===e.nodeName&&/^#/.test(H(e,"href"))&&S(e,{href:"#"+t}),(n=Zt[t])&&((r=(r=_("span.num",e))||_("span",e))&&(r.innerHTML=n.chapterIndex),(r=_(".name",e))&&(E(e,"data-index-title")?r.innerHTML=n.readerInfo.indexTitle||n.chapterTitle:r.innerHTML=n.chapterTitle),S(e,{"data-index":H(n,"data-index"),title:n.chapterTitleText}))}function cn(t){if(/^#/.test(t)){let e=_(t);if(e)return"TEMPLATE"===e.nodeName?e=$e(e):ct(e),Mt(!0,e=P(k,null,e)),e.innerHTML}return t}async function sn(){$t||(await v(["printer","print-css"],p),$t=!0)}ht(function(){if(te=_("#reader"),!L(ne=_(".reader-container"),"disabled")&&!L(f,"no-reader")){C(f,ne),re=H(te,"data-foreword"),ae=_(".index-btn",te),oe=te.querySelector(".status > .cur"),ce=oe.querySelector("span.chapter"),se=oe.querySelector("span.subchapter"),d=te.querySelector(".status > .next"),fe=d.querySelector("a.prev"),ue=d.querySelector("a.next"),le=d.querySelector("span.chapter"),de=d.querySelector("span.subchapter"),pe=_("#reader-index"),O("click",function(e){e.preventDefault(),e.target,e.target===fe&&d.classList.contains("no-prev")||e.target===ue&&d.classList.contains("no-next")||nn(e.target)},[fe,ue]),ebook_download_setup=!1,Array.from(N(".reader-index,.download-index",ne)),O("click",function(e){e.preventDefault(),e.stopPropagation(),t||(Mt(),t=!0)},ae),u("menu_render",function(e,t){"reader-index"===e.key&&(me=t)&&(active=_("li.active",pe))&&V(active,{block:"center"})});var t,e=_("main"),n=[".reader-link"];if(["h1","h2","h3","h4","h5","p"].forEach(function(e){n.push(e+".chapter,"+e+".subchapter")}),0===(HTAGS=Array.from(N(n.join(","),e))).length){var r=1,a=e.querySelectorAll("h1.bighead");if(0===a.length&&(r=2,a=e.querySelectorAll("h2.bighead")),0===a.length&&(r=3,a=e.querySelectorAll("h3.bighead")),0<a.length){hbig=Array.from(e.querySelectorAll(".bighead")),a=Array.from(a),h1first=hbig.indexOf(a[0]);for(var i=[],o=1;o<=5;o++)o<=r||i.push("h"+o+".bighead");i.length&&(h2big=N(i.join(","),e)),G(a,"chapter"),h2big.length&&(h2big=Array.from(h2big)).forEach(function(e){G(e,hbig.indexOf(e)<h1first?"chapter":"subchapter")})}HTAGS=Array.from(N(n.join(","),e))}if(O("click",function(e,t,n){e.preventDefault(),(n=_(H(X(e.target,e=>"A"===e.nodeName),"data-chapter-link")))&&(nn(n),n.id,en(n))},N("[data-chapter-link]",e)),0===HTAGS.length)G(te,"disabled");else{var v,a=s.getAttribute("lang");try{v=new Intl.NumberFormat(a,{minimumFractionDigits:0,maximumFractionDigits:0})}catch(e){}var y=b.createElement("li"),e=b.createElement("a"),a=b.createElement("span"),c=b.createElement("span");G(a,"num"),c.classList.add("text"),e.appendChild(a),e.appendChild(c),y.appendChild(e),w(function(){for(var e,t,n,r,a,i,o,c,s,f,u,l=[],d=0,p=0,h=HTAGS.length;p<h;p++){if((tag=HTAGS[p]).id||(tag.id="_h"+p),tag.type=!1,S(tag,{"data-index":tag.index=p}),u=c=s=!1,i=L(tag,"chapter")?(l=[[++d,0]],o=!(a=!0)):(a=!1,o=(o=H(tag,"data-level"))&&parseInt(o),L(tag,"subchapter")),t=_("a",e=P(y)),n=_("span.num",t),r=_("span.text",t),L(tag,"reader-link")){s=!0;try{c=R(tag,"data-reader-link")}catch(e){I(e);continue}M(c.arrow)&&(c.arrow=!1),c.level&&(o=c.level),c.classes&&(c.classes=u=j(c.classes)?c.classes:[c.classes]),c.title&&(c.title=cn(c.title)),c.indexTitle&&(c.indexTitle=cn(c.indexTitle)),r.innerHTML=c.title||tag.innerHTML,c.chapter?(tag.readerInfo=c,r.innerHTML=(c.emoji?"<span class=e"+(c.emoji_anim?' data-anim="'+c.emoji_anim+'"':"")+">"+c.emoji+"</span> ":"")+(c.title||tag.innerHTML),tag.chapterTitle=r.innerHTML,o=!(a=!(s=!(l=[[++d,0]])))):c.subchapter?(i=!0,tag.readerInfo=c,r.innerHTML=(c.emoji?"<span class=e"+(c.emoji_anim?' data-anim="'+c.emoji_anim+'"':"")+">"+c.emoji+"</span> ":"")+(c.title||tag.innerHTML),tag.chapterTitle=r.innerHTML,s=!1):(e.classList.add("reader-link"),tag.readerInfo=c,tag.type="link",tag.chapterTitle=(c.emoji?"<span class=e"+(c.emoji_anim?' data-anim="'+c.emoji_anim+'"':"")+">"+c.emoji+"</span> ":"")+" "+r.innerHTML)}else{if(E(tag,"data-reader-info"))try{c=R(tag,"data-reader-info")}catch(e){I(e);continue}c?(c.title&&(c.title=cn(c.title)),c.indexTitle&&(c.indexTitle=cn(c.indexTitle)),c.chapterTitle&&(c.chapterTitle=cn(c.chapterTitle)),c.level&&(o=c.level),tag.readerInfo=c,r.innerHTML=(c.emoji?"<span class=e"+(c.emoji_anim?' data-anim="'+c.emoji_anim+'"':"")+">"+c.emoji+"</span> ":"")+(c.chapterTitle||c.title||tag.innerHTML),tag.chapterTitle=r.innerHTML,c.classes&&(c.classes=u=j(c.classes)?c.classes:[c.classes])):(tag.chapterTitle=tag.innerHTML,r.innerHTML=tag.innerHTML)}var m=P(k);if(m.innerHTML=tag.chapterTitle,tag.chapterTitleText=tag.readerInfo&&tag.readerInfo.titleText?tag.readerInfo.titleText:m.innerText,tag.arrow=!(!M(tag.readerInfo)&&!M(tag.readerInfo.arrow))||tag.readerInfo.arrow,tag.readerInfo&&tag.readerInfo.indexTitle&&(r.innerHTML=c.indexTitle),tag.readerInfo&&tag.readerInfo.emoji_anim&&(Lt(_("[data-anim]",m=P(k,null,lt(tag.chapterTitle))),!0),tag.chapterTitle=m.innerHTML),isNaN(o)||!1===o||o--,o<0&&(o=0),tag.readerInfo||(tag.readerInfo={}),tag.readerInfo.level=o,a||tag.readerInfo.chapter?tag.readerInfo.chapter=!0:(i||tag.readerInfo.subchapter)&&(tag.readerInfo.subchapter=i),a)G(e,"chapter"),d&&G(e,"chapter-"+d.toString().replace(/\./,"-")),tag.readerInfo&&tag.readerInfo.chapterNumText?n.innerHTML=tag.readerInfo.chapterNumText:n.innerHTML=(v?v.format(d):d)+".",tag.chapterIndex=n.innerHTML;else{if(void 0===l[o]&&(void 0===l[o-1]?(console.error("invalid parent",tag,l,o),l[o]=[-1,0]):l[o]=[l[o-1][1],0]),s)n.innerHTML="&nbsp;",G(a_num_sub=P(n),"e"),a_num_sub.innerHTML=c.emoji||"ðŸ“Œ",c.emoji&&c.emoji_anim&&S(a_num_sub,{"data-anim":c.emoji_anim}),n.parentNode.insertBefore(a_num_sub,n.nextSibling);else{for(;l[o+1];)l.pop();l[o][1]++,f=[],tag.readerInfo&&(tag.readerInfo.chapterNum?tag.readerInfo.chapterNumText=(v?v.format(tag.readerInfo.chapterNum):tag.readerInfo.chapterNum)+".":M(tag.readerInfo.chapterNum)||!1!==tag.readerInfo.chapterNum||st(n)),tag.readerInfo&&tag.readerInfo.chapterNumText?n.innerHTML=tag.readerInfo.chapterNumText:(l.reverse().forEach(function(e){(a_num_sub=P(n)).innerHTML=(v?v.format(e[1]):e[1])+".",n.parentNode.insertBefore(a_num_sub,n.nextSibling),f.push(a_num_sub.innerHTML)}),l.reverse(),n.innerHTML=(v?v.format(l[0][0]):l[0][0])+"."),f.reverse(),f.unshift(n.innerHTML),tag.chapterIndex=f.join("")}G(e,"subchapter"),u&&G(e,u),0<o&&G(e,"l"+(o+1))}S(t,{"data-index":p,href:(Zt[tag.id]=tag).readerInfo&&tag.readerInfo.link?tag.readerInfo.link:"#"+tag.id}),C(pe,e)}imgs=Array.from(_("img[data-d],img[data-z],img[data-zd],[data-anim]",pe,!0)),A("i",imgs);var g=Array.from(N(".chapter-link"));q(g,function(e,t,n,r,a){on(t)}),q(he=Array.from(N("[data-index]",pe)),function(e,t){he[e].index=parseInt(H(t,"data-index"))}),b.location.hash&&function(){var e;try{if(!(e=_(b.location.hash.toString())))return;var t=tn(e);if(isNaN(t)||!1===t)return;e=HTAGS[t]}catch(e){return console.error("hash",e)}function n(){e.readerInfo,V(e,{inline:"start",behavior:"smooth"})}Mt();t=e.chapterTitleText||e.innerText;T.history&&T.history.replaceState("",t,b.location.pathname+"#"+e.id),b.title=t,n(),w(function(){n()}),setTimeout(function(){n()},1e3)}(),g.length&&O("click",function(e){var t=X(e.target,"chapter-link"),n=tn(t);isNaN(n)||!1===n||(e.preventDefault(),e.stopPropagation(!0),e=HTAGS[n],nn(t),e.id,en(e))},g),O("click",function(e){e.preventDefault();for(var t=e.target;!t.classList.contains("reader-link")&&"A"!==t.tagName;)t=t.parentElement;var n,e=tn(t);isNaN(e)||!1===e||((n=(e=HTAGS[e]).readerInfo)&&n.link?n.target&&"_blank"===n.target?T.open(n.link):b.location.href=n.link:(nn(t),en(e)))},he),x.reader_ready=!0,A("reader-setup-done")}),O("scroll",function(){var e=T.scrollY/(f.offsetHeight-T.innerHeight)*100;w(function(){g(te,{"border-image-source":"linear-gradient(to right, var(--readerbarfill) "+e+"%, var(--readerbar) 0%)"})}),B||rn()},T),O("wheel",function(e){Kt&&clearTimeout(Kt),Ft&&Ft(),B=!1},T),O("keydown",function(e){if(me){if("Escape"===event.key)return Ut();var t=D(pe);"ArrowUp"===event.key?t.scrollTop-=50:"ArrowDown"===event.key&&(t.scrollTop+=50)}},b),rn(),O("keydown",function(e,t,n){if(-1!==["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)||e.altKey||e.ctrlKey)return!1;if(37==e.keyCode){if(T.pageXOffset<=0)if(e.preventDefault(),0===(t=tn(fe))&&W&&tn(W)===t)V(_("header")),W=!1;else{for(n=HTAGS[t];n&&!n.arrow;)if(t--,n=HTAGS[t],t<0||!n){t=!1;break}!1!==t?nn(t):(V(_("header")),W=!1)}}else if(39==e.keyCode&&b.body.scrollWidth-T.innerWidth<=T.pageXOffset){for(e.preventDefault(),t=tn(ue),n=HTAGS[t];n&&!n.arrow;)if(t++,!(n=HTAGS[t])){t=!1;break}!1!==t?nn(t):V(_("footer"))}},b)}}}),-1!==b.cookie.indexOf("ebook-printer=")&&(K=!0),T._export=async function(e){await v(["printer","printer-export"],p);var t=Re(arguments,1);if("print"!==e)return"epub"===e?(n&&(at(n),n=!1),A("print",Yt=!0),EXPORT_EPUB.apply(EXPORT_EPUB,t)):"toc"===e?EXPORT_TOC.apply(EXPORT_TOC,t):void 0;n&&(at(n),n=!1),A("print",Yt=!0)},O(["beforeprint","afterprint"],function(e){A("print",!("afterprint"===e.type))},T);var fn=Ve("print");function un(){var e=(x.bab||"")+"/images/";return Q||(S(Q=m("img",{class:"moon",width:1,height:1}),{src:Nt(e+"moon.png",Q)}),C(f,Q),setTimeout(function(){G(Q,"move")},1e4)),T.starsloaded||(starbg=new Image,T.starsloaded=starbg.src=Nt(e+"stars.png",starbg,function(){g(f,{"background-image":"url("+starbg.src+")"})}))}function ln(){$||($=!0,Ue("âœ¨ dark theme"),l=!0,G(s,"dark"),ot(T.darkcss))}O("change",function(e){A("print",!!e.matches)},fn),u("print",function(e){if(e||n&&(at(n),n=!1),e&&!Yt){if(Mt(Yt=!0),!(n=_("#book-print-intstructions")))return I("#book-print-intstructions not found");n=P(k,{class:"book-print-instructions"},$e(n)),Ze(ft(_("main")),n)}!async function(){if(e){if(K=!0,Qt)return;Qt=!0,await sn(),PRINT_BOOK(),Jt=l,A("dark",!1),console.info("ðŸ–¨ï¸","print view enabled")}else{if((K=!1)===Qt)return;Qt=!1,A("dark",l=Jt)}Array.from(_('a[href^="/"]',_("#main-content"),!0)).length}()}),fn.matches&&A("print",!0),ht(()=>{Dt("printer")}),K&&pt(async function(e,t,n,r,a){Mt(!0),await sn(),w(function(){PRINT_BOOK()})}),Ve("(prefers-color-scheme: dark)");try{(l=L(s,"dark"))&&ln()}catch(e){I(e)}u("dark",function(e,t,n,r,a){e?(l=!0,ln(),a=un()):(l=!1,T.starsloaded=!1,g(f,{"background-image":""})),Ae.setItem("dark",l?a:"0"),w(function(){G(s,"dark",!l),q(_("img[data-d],img[data-zd]",!1,!0),function(e,t){Gt(t)}),l?(G(_("#darkswitch .dark"),"active"),G(_("#darkswitch .light"),"active",!0)):(G(_("#darkswitch .light"),"active"),G(_("#darkswitch .dark"),"active",!0))})}),ht(()=>{if(!K){var u="7f8fd639-93a3-478f-a502-1b5391981af1";let e=T.screen.width+"x"+T.screen.height,t=new Set(["A","BUTTON"]),i=T.location.href,o=b.referrer,a="",c={apiHost:"https://api-gateway.umami.dev",excludeSearch:!1,excludeHash:!1,allowedDomains:[]},n=()=>({website:u,screen:e,language:T.navigator.language,title:b.title,hostname:T.location.hostname,url:i,referrer:o}),r=async(e,t="event")=>{try{var n={"Content-Type":"application/json"},r=(a&&(n["x-umami-cache"]=a),await(await fetch(c.apiHost+"/api/send",{method:"POST",headers:n,body:JSON.stringify({type:t,payload:e}),credentials:"omit"})).json());r&&(a=r.cache)}catch(e){console.error("Umami error:",e)}},s=(e,t)=>{t="string"==typeof e?{...n(),name:e,data:t}:"object"==typeof e?e:e(n());r(t)},f=()=>r(n());T.umami=T.umami||{track:s,identify:(e,t)=>{r({...n(),id:e,data:t},"identify")}},["pushState","replaceState"].forEach(e=>{let a=T.history[e];T.history[e]=function(e,t,n){var r=a.apply(this,arguments);return(n=n)&&(o=i,(n=new URL(n,T.location.href)).search=c.excludeSearch?"":n.search,n.hash=c.excludeHash?"":n.hash,(i=n.toString())!==o)&&setTimeout(f,300),r}}),f(),b.addEventListener("click",async e=>{let n=e.target;for(let e=0;e<5&&n&&n!==b&&!t.has(n.tagName);e++)n=n.parentElement;var r=n?.dataset?.umamiEvent;if(r){let t={};Object.keys(n.dataset).forEach(e=>{e.startsWith("umamiEvent-")&&(t[e.slice(11)]=n.dataset[e])}),"A"===n.tagName&&!("_blank"===n.target||e.ctrlKey||e.metaKey||e.shiftKey)&&n.href?(e.preventDefault(),await s(r,t),T.location.href=n.href):s(r,t)}},!0)}}),ht(()=>{var e=N(".show-link");e.length&&O("click",e=>{var t,e=X(e.target,"show-link");e&&(t=_((e=R(e,"data-config")).target),e=e.scroll_target?_(e.scroll_target):t,t)&&(G(t,"show"),V(e||t,!0))},e)}),O("keydown",function(e){"esc"!==e.key&&"Escape"!==e.key||A("esc",e)},b),u("menu_render",function(e,t){t&&G(z,"sticky")}),fn=[T,b,s,x,Ae,pt,Xt,ht,Pt,function(e,t){if(j(t)&&t[0]&&j(t[0])){He[e]=[],Ee[e]=[];for(var n of t)He[e].push(n[0]),Ee[e].push(n[1])}else He[e]=t;A("vrs:"+e,t)},I,Ue,function(e,t,n,r,a){},_t,Nt,Xe,_,N,ct,st,function(e){return"none"===e.style.display},V,function(e,...t){return J[e]?Me.test(J[e])?kt(J[e],...t):J[e]:""},kt,H,S,E,ze,g,it,L,G,M,function(e){return!isNaN(e)},j,Ke,Fe,Be,h,function e(t,n,r,a){if(j(t)){a=!1;for(var i of t){if(!e(i,n)){a=!1;break}if(r)return!0;a=!0}return a}return-1!==n.indexOf(t)},function(e){return[...new Set(e)]},Re,q,qe,O,Je,Qe,w,m,P,$e,C,et,tt,D,X,at,ft,function(e,t){return(t=!!M(t)||t)?e.lastElementChild:e.lastChild},ut,function e(t,n,r){return r=t.previousElementSibling,1<(n=n||1)?e(r,--n):r},Ze,function(e,t){return ut(e)?Ze(ut(e),t):C(D(e),t)},rt,nt,k,Ie,e,t,lt,R,ot,u,o,a,A,mt,wt,It,Ve,At,xt,function(e,t,n){n=M(t)?e:Math.floor(Math.random()*(t-e+1))+e,new Promise(function(e){setTimeout(e,n)})},Dt,v,xe,yt,vt,Et,function(e,t){return t=e.replace(je,""),len=t.length,t.substring(0,2)+"/"+(2<len?t.substring(2,4)+"/":"")+e+"/"},Oe,function e(t,n,r,a,i){if(j(t)||h(t))for(var o of t)e(o,n,r,a,i);else(r=t instanceof Node?t:_(t))&&r.scrollWidth>r.clientWidth?(n=n&&n!==t?_(n):r)&&function e(t,n,r,a){(size=r.shift())&&(G(t,size),w(function(){n.scrollWidth>n.clientWidth&&r.length?e(t,n,r,a):a&&a()}))}(n,r,a=a||["small","tiny","tiny2","tiny3","tiny4"]):ie||w(function(){e(t,n)})},function(e){J=Object.assign(J,e)},zt,Vt,Rt,Mt,on],T.VRS=fn,pt(function(e,t,n,r,a){f=b.body,U=b.head,z=_("nav.nav"),O("click",function(e){A("dark",!l)},_("#darkswitch > span"));try{if(e=JSON.parse(_("script#jsdata",U).textContent)){for(var[i,o]of Object.entries(e))x[i]=o;J=x.p,x.locale=x.LG.replace("_","-")}}catch(e){}x.mod&&v(x.mod,p),(n=_("#dark"))&&O(["click","change"],function(){A("dark",n.checked)},n),l&&(un(),n)&&(n.checked=!0),Y=At(N(Ne),function(e,t,n){e&&(Gt(n),Y.observe(n,!0))},{threshold:0,rootMargin:"0px"},!0),u("i",function(e){Y.observe(e)});let c=N(".inview-module");if(c.length){let r=At(c,function(e,t,n){e&&!n.inview_loaded&&(s(n),n.inview_loaded=!0)},{threshold:0,rootMargin:"0px"},!0);function s(e){for(var t of e=e?[e]:Array.from(c))if(!t.inview_loaded){t.inview_loaded=!0;let e=R(t,"data-module",!1);e&&v(e=Ke(e)&&/,/.test(e)?e.split(","):e,p),r.observe(t,!0)}}K?s():u("print",()=>{s()}),q(c,(e,t)=>{var n;t.config={scroll:!0},E(t,"data-module-config")&&(n=R(t,"data-module-config"),t.config=Object.assign(t.config,n),t.config.instant?s(t):t.config.inview&&r.observe(t.config.inview))});let t;Je("scroll",function(e){t||(t=!0,q(c,(e,t)=>{!t.inview_loaded&&t.config.scroll&&(t.config.scroll_timeout?setTimeout(()=>{s(t)},t.config.scroll_timeout):s(t))}))},T)}e=_("div.reader > div.buttons a.lang"),e&&O(["mouseover","touchstart","focus"],e=>{v("lg-widget",p)},e),e=_(".video-container [data-video]",!1,!0);e.length&&O("click",function(e,t,n,r,a){e.preventDefault(),G(D(t=_("[data-video]",X(e.target,"video-container"))),"playing");let i={};switch((n=R(t,"data-video")).type||(i=/vimeo/.test(t.href)?(n.type="vimeo",{src:"https://player.vimeo.com/video/"+n.id,title:"Vimeo video player"}):(n.type="youtube",{src:"https://www.youtube.com/embed/"+n.id+"?autoplay=1",title:"YouTube video player"})),n.video_type||(n.video_type="mp4"===n.type?"mp4":"iframe"),n.video_type){case"iframe":a=Object.assign({width:720,height:405,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0},i),n.attrs&&(a=Object.assign(a,n.attrs)),rt(t,r=m("iframe",a));break;case"mp4":a=Object.assign({width:720,height:405,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",controls:!0,allowfullscreen:!0},i),n.attrs&&(a=Object.assign(a,n.attrs)),r=m("video",a),q(n.sources,(e,t,n)=>{n=m("source",{src:t[0],type:t[1]}),C(r,n)}),rt(t,r);try{r.play()}catch(e){}}},e),_("#download-links")&&v(["book-download","qrcode","mirror"],p),O(["mouseover","touchstart","focus"],function(e){X(e.target,"social",3)&&bt()},N(".reader .buttons .social")),xt(z),T._js_ready=!0,F=!0,qe(Ge)}),ht(function(e){var t,n;K||(O(["click"],async function(e,t,n,r,a,i){t=e.target;let o=/^(\/|#)/;if(i=X(t,function(e){return"CITE"===e.nodeName||L(e,"quote")&&!L(e,"local")&&!L(e,"no-cite")&&("A"===e.nodeName&&!o.test(H(e,"href"))||_("a",e)&&!o.test(H(_("a",e),"href")))||L(e,"pdf-link")||L(e,"cite-link")},4))return i.clickedTarget=X(t,e=>"A"===e.nodeName),e.preventDefault(),e.stopPropagation(),p.SHOW_CITE_POPUP||await v("citewidget",p),i.click_el=t,SHOW_CITE_POPUP(i);i=X(t,function(e){return"A"===e.nodeName},4);i&&(t=H(i,"href"),L(i,"no-scroll")||("#"===t?(e.preventDefault(),e.stopPropagation()):/^#.+/.test(t)&&(t=_(t))&&(e.preventDefault(),e.stopPropagation(),V(t))))},T),_(".footnotes")&&v("footnotes",p),(QUICKNAV=_(".qn"))&&(xt(QUICKNAV,45),O("click",function(e){e.preventDefault(),V(_("header"))},_(".top",QUICKNAV)),O("click",function(e){e.preventDefault();e=H(e.target,"data-href");e&&(b.location.href=e)},_(".next,.prev",QUICKNAV,!0))),(t=N(".rss-follow")).length&&(n=_(".headerbar li.rss"),O("click",function(e,t,r){e.preventDefault(),t=X(e.target,"rss-follow"),(r=H(t,"data-rss"))&&((r=JSON.parse(r)).url||(r.url=t.href),o("menu_render",function(e,t,n){"rssmenu"!==e.key||e.rss_setup||(e.rss_setup=!0,e.target.firstElementChild,w(function(){var a=_(".primary"),i=_(".desc",a);(r.desc?(i.innerHTML=r.desc,ct):st)(i),S(i=_(".url",a),{href:r.url}),i.innerHTML=i.pathname,a=_(".all"),("all"===r.type?st:ct)(a),a=_(".topics > div"),i=P(ft(a)),nt(a),q((void 0).topics,function(e,t,n){_("span",n=P(i)).innerHTML=t.title;var r=_("a",n);r.href="/"+t.slug+"/rss.xml",r.innerHTML=r.pathname,C(a,n)})}))}),Vt(n,!0))},t)))})}(window,document);