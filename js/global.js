!function(T,b){var f,U,k,e,t,z,B,W,K,a,F,r,u,o,i,A,J,c,l,Q,$,Y,Z,ee,te,ne,re,ie,ae,oe,ce,se,d,fe,ue,le,de,pe,he,me,ge,ve,ye,Te,p=this,be=b.addEventListener,ke=T.requestAnimationFrame,Ae="localStorage"in T&&T.localStorage,we="history"in T&&"function"==typeof history.pushState,s=b.documentElement,xe=b.location,_e=(xe.hash&&decodeURI(xe.hash.substr(1)),navigator?navigator.userAgent:0),Ee={chapter:!1,subchapter:!1,prev:!1,next:!1},Ie="[data-i],[data-z],[data-anim]",He={},Se={},Ne={},Le={},Ge=[],w={},Me=/%(\d+)\$s/g,Oe=/[^a-z0-9]+/g,je=2<=(0|T.devicePixelRatio),Pe=[],Ce=".webp",De=/(\.(jp(e)?g|gif|bmp|png|tiff))/gi,Xe=!(!(_e&&(_e=_e.match(/.*\bChrome\/([0-9\.]+)|.*\bFirefox\/(\d+)\b.*/))&&(_e[1]||_e[2]&&65<=parseInt(_e[2])))&&(ye=[],ve=!0,(Te=new Image).onload=Te.onerror=function(){Xe=0<Te.height,ve=!1,qe(ye,Xe)},Te.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"));function Re(e,t){return t=t||0,Array.prototype.slice.call(e,t)}function Ve(e,t,n){return n=T.matchMedia(e),t?!!n.matches:n}function qe(e){for(var t=Re(arguments,1),n=(e.length,e.shift());n;)n.apply(null,t),n=e.shift()}function x(e,t,n){if(ke?T.requestAnimationFrame(e):setTimeout(e),t)return function(){}}function _(){var e=Re(arguments);return e[0]instanceof Error||(e[0]=new Error(e[0])),console.error.apply(console,e),e[0]}function Ue(){console.log.apply(console,Re(arguments))}function E(e,t,n,r){if(t=t||b,O(e)){r=[];for(var i of e)r.push(E(i,t,n));return r}return n?t.querySelectorAll(e):t.querySelector(e)}function I(e,t){return E(e,t,!0)}function H(e,t){return e?e.getAttribute(t):void 0}function S(e,t){return!!e&&e.hasAttribute(t)}function N(e,t,n){var r,i,a;if(O(e))for(var o of e)N(o,t);else{Ke(t)&&(r=t,(t={})[r]=n);for([i,a]of Object.entries(t))null===a?ze(e,i):e.setAttribute(i,a)}}function ze(e,t){if(h(e))for(var n of e)ze(n,t);else for(var r of t=O(t)?t:[t])e.removeAttribute(r)}function L(e,t,n,r){r=!1;for(var i of t=O(t)?t:[t])if(e.classList.contains(i)){if(r=!0,n)return r}else if(!n)return!1;return r}function G(e,t,n){if(h(e))for(var r of e)G(r,t,n);else for(var i of t=O(t)?t:[t])n?e.classList.remove(i):e.classList.add(i)}function M(e){return void 0===e}function Be(e,t,n){return n="object"==typeof e&&null!==e,!(t&&n&&O(e))&&n}function O(e){return e instanceof Array}function h(e){return O(e)?!e[0]||e[0]instanceof Node||e[0]===T:e instanceof NodeList||e instanceof HTMLCollection}function We(e,t){return typeof e===t}function Ke(e){return We(e,"string")}function Fe(e){return We(e,"function")}function j(e,t,n,r,i,a){try{if(M(n))return _("no element",e,t);if(-1===r&&(r={passive:!0,once:!0}),O(e)){i=[];for(var o of e)i.push(j(o,t,n,r));return function(){for(var e of i)e()}}for(var c of n=h(n)?n:[n])if(c)if(be)a=-1!==["touchstart"].indexOf(e),c.addEventListener(e,t,a?Object.assign({passive:!0},r||{}):r||!1);else if(c.attachEvent)"DOMContentLoaded"===e&&(e="load",c=T),c.attachEvent("on"+e,t);else try{c["on"+e]=t}catch(e){}return function(){return Qe(e,t,n)}}catch(e){_(e)}}function Je(e,t,n,r,i){return i=j(e,function(e){r||(r=!0,t(e),i())},n,-1),function(){r=!0,i()}}function Qe(e,t,n){if(O(e))for(var r of e)Qe(r,t,n);else for(var i of n=h(n)?n:[n])i&&(be?i.removeEventListener(e,t,!1):n.attachEvent&&i.detachEvent("on"+e,t))}function m(e,t,n,r,i){i=(i=i||b).createElement(e);return t&&N(i,t),n&&Ye(i,n,r),i}function P(e,t,n,r){var i;return e?(i=e.cloneNode(!0),t&&N(i,t),n&&Ye(i,n,r),i):_("no el",e,t,n)}function $e(e){return e instanceof Node&&"TEMPLATE"!==e.nodeName?P(e):O(e)?P(k,null,e.map(P)).children:Array.from(P(e.content).children)}function Ye(e,t,n){if(h(t)||(t=[t]),n&&1===t.length)e.innerHTML=t[0];else{n&&(e.innerHTML="");for(var r of t)n?e.innerHTML+=r:C(e,r=Ke(r)?tt(r):r)}}function C(e,t){for(var n of t=h(t)?t:[t])n&&(Ke(n)&&(n=tt(n)),e.appendChild(n))}function Ze(n,e){if(O(e)||h(e))return q(e,function(e,t){D(n).insertBefore(t,n)});D(n).insertBefore(e,n)}function et(e,t){return t=b.createDocumentFragment(),e&&C(t,e=h(e)?Array.from(e):e),t}function tt(e,t){if(!t)return b.createTextNode(e);e.textContent=t}function nt(e){if(O(e)||h(e))return q(e,function(e,t){nt(t)});for(;ft(e,!1);)it(ft(e,!1))}function rt(e,t){return h(t)&&(t=et(t)),D(e).replaceChild(t,e),t}function it(e,n){q(e=h(e)?e:[e],(e,t)=>{(n=D(t))&&n.removeChild(t)})}function g(e,t,n){for(var[r,i]of Object.entries(t))M(i)?e.style.removeProperty(r):e.style.setProperty(r,i,n?"":"important")}function at(e,t){return T.getComputedStyle(e).getPropertyValue(t)}function ot(e){T.loadCSS(e)}function ct(e,t){if(e)if(h(e))for(var n of e)ct(n,t);else t?e.style.setProperty("display","none"):e.style.removeProperty("display")}function st(e){ct(e,1)}function D(e,t,n){return n=e.parentElement,1<(t=t||1)?D(n,--t):n}function ft(e,t){return(t=!!M(t)||t)?e.firstElementChild:e.firstChild}function ut(e,t,n){return n=e.nextElementSibling,1<(t=t||1)?ut(n,--t):n}function X(e,t,n,r,i){for(Ke(t)&&(i=t,t=function(e){return L(e,i)}),n&&(r=0);e&&!t(e);){if(n&&n<r)return!1;if(e===f)return!1;e=D(e),n&&r++}return e}function lt(e){var t=P(k);return t.innerHTML=e,Re(t.childNodes)}function R(e,t,n,r,i){if(i=!!M(n)||!!n,r=H(e,t))try{return JSON.parse(r)}catch(e){if(i)return _(e),!1}return r}function V(e,t,n,r){var i;!0===t&&(n=!0,t=void 0),!n&&(n=e.getBoundingClientRect(),M(i)&&(i=45),n.top>=i)&&n.bottom<=(T.innerHeight||b.documentElement.clientHeight)||(t=(M(t)?{block:"start",inline:"nearest",behavior:"smooth"}:t)||{},r&&(t.margin=r),(M(t.margin)||t.margin)&&(t.margin||(t.margin=parseInt(at(e,"height"))),e.style.scrollMargin=t.margin+"px"),e.scrollIntoView(t))}async function q(e,t,n,r){for(var[i,a]of Object.entries(e))r=t(i,a),n&&await r}function dt(){return state=b.readyState,ae=!(!ae&&"complete"!==state&&"interactive"!==state)||ae}async function pt(r){return dt()?(r&&r(),!0):!0!==r?mt(function(e,t,n){(n=function(){x(function(){(dt()?(r&&r(),e):n)()})})()}):void 0}async function ht(n){return F?(n&&n(),!0):mt(function(e,t){Ge.push(function(){n&&n(),e()})})}function mt(e,t){if(O(e)){t=[];for(var n of e)t.push(mt(n));return gt(t)}return new Promise(e)}function gt(e){return Promise.all(e)}function vt(e){c&&clearTimeout(c),e?A("#",Z=e):c=setTimeout(function(){A("#",Z=e)},100)}function yt(a,o){return new Promise(function(e,t,n,r,i){r=function(){i||(vt(!1),i=!0,e(),n())},vt(!0),n=j(we?"popstate":"hashchange",r,T),a(),o&&we&&r()})}function Tt(){}async function bt(){ge||(ge=!0,await v("social",p),j("click",function(e){e.preventDefault(),A("menu:close")},E(".widget.socialwidget .close")))}function kt(e,...n){return e.replace(Me,(e,t)=>void 0!==n[t-1]?n[t-1]:e)}function At(e,r,t,i,a,n,o,c){function s(){c||(c=1,_t(e,n,!0))}return Be(t,!0)||(t={rootMargin:"300px 0px",threshold:[0]}),{stop:function(){s()},observer:n=xt(function(e,t,n){n=a?a(e,t):e.isIntersecting,!i&&!n||!i&&o||(o=!0,r(n,e,t),i)||s()},t,e),observe:function(e,t){_t(e,n,t)}}}function wt(r,e,t){M(e)&&(e=0),At(t||r,function(e,t,n){G(r,"sticky",!e)},{threshold:[1],rootMargin:"-"+(e+1)+"px 0px 0px 0px"},!0,function(e){return e.intersectionRatio<1})}function xt(n,e,t,r){return r=new IntersectionObserver(function(e){for(var t of e)n(t,t.target)},e),t&&_t(t,r),r}function _t(e,t,n){for(var r of e=h(e=Ke(e)?I(e):e)?e:[e])n?t.unobserve(r):t.observe(r)}async function Et(n,r,i){if(O(n)){i=[];for(var e of n)i.push(Et(e));return gt(i)}return mt(function(t,e){i=Be(n,!0)?n:{src:n},(r=P(Ot,i)).onload=()=>{t()},r.onerror=e=>{t(e)},C(U,r)})}function It(n,r,i,e){return Xe?(r&&(Je("error",function(e,t){r.src=n,i&&i(error,n,r)},r),i)&&Je("load",function(){i(!1,n,r)},r),n.replace(De,Ce)):ve?mt(function(e){ye.push(function(){e(It(n,r,i))})}):(i&&x(function(){i(!0,n,r)}),n)}function Ht(e){return w.bab?w.bab+e:e}function St(e,t,n,r){return r=!(!je||n&&S(n,"data-no2x"))&&je,It(Ht("/i/")+e+(r?"@2/":"")+t,n)}function Nt(e,t,n,r){return n=R(e,"data-video"),t=P(e,{autoplay:"true"}),n&&(r=n.size)&&(N(t,{width:r[0],height:r[1]}),g(t,{width:r[0]+"px","aspect-ratio":r[0]/r[1]})),rt(e,t),G(t,"resolved"),j(["play","pause","ended"],function(e){G(X(t,"video-frame"),"playing","play"!==e.type)},t),q(E("source[data-src]",t,!0),function(e,t){N(t,{src:H(t,"data-src")})}),t}async function Lt(n,r,e,t,i,a,o){var c;r=H(n,"data-i"),o=L(n,"shape"),r&&(t=!!l&&H(n,"data-d"),e=H(n,"data-s"))&&(i=St(e,r=t||r,n),"IMG"===n.nodeName?(N(n,{src:i}),o&&g(n,{"shape-outside":"url("+i+")"})):"VIDEO"===n.nodeName?N(n,{poster:i}):g(n,{"background-image":"url("+i+")"})),(r=H(n,"data-z"))&&("video"===r?(r="VIDEO"===n.nodeName?n:E("video",n))?(t=S(r,"autoplay"),j(S(r=t?Nt(r):r,"data-mouse")?["click","mouseover","touchstart"]:["click"],function(e,t){(t=X(r,"video-frame"))&&L(t,"playing")||(r=L(r,"resolved")?r:Nt(r)).play()},[r,X(r,"playlink")||D(r)]),t&&r.play()):(r=L(n,"playlink")?n:E(".playlink",n))&&j("click",function(e,t){(t=R(r,"data-video"))&&"youtube"===t.type&&(e.preventDefault(),rt(r,m("iframe",{src:"https://www.youtube.com/embed/"+t.id+"?autoplay=1&loop=1",width:t.size[0],height:t.size[1],frameborder:"0",allowfullscreen:"true",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",style:"aspect-ratio:"+t.size[0]/t.size[1]+";width:"+(t.size[2]?t.size[0]+"px":"100%")+";height:auto;"})),r=X(n,"video-frame"))&&(N(n,{class:(t.class||[]).concat(["embedded"]).join(" ")}),V(n))},r):((t=!!l&&H(n,"data-zd"))&&(r=t),c=Ht("/images/"),(i=It(r=r.replace(/^\/images\//,c),n,!1))instanceof Promise&&(i=await i),N(n,{src:i}),o&&g(n,{"shape-outside":"url("+i+")"}))),(r=H(n,"data-anim"))&&(c=Ht("/images/"),i=c+`anim/${r}.webp`,e=!(t=function(){g(n,{"background-image":"url("+i+")"}),G(n,"anim")}),Je("load",t,r=new Image),Je("error",Ue,r),r.src=i)}function Gt(){let e=Re(arguments);x(function(){Lt.apply(Lt,e)})}function Mt(e,t,n,r){!0===e&&(e=!(n=!0));var i=!!Xe;return r&&(Xe=!1),q(IMGS=Array.from(e||I(Ie,t||!1)),function(e,t){(n?Lt:Gt)(t)}),r&&(Xe=i),IMGS}k=m("div"),_e=m("span"),t=P(e=m("a",{href:"#"}),{target:"_blank",rel:"noopener"}),Tt.prototype={on:function(e,n,r){if(O(e)){let t=[];for(var i of e)t.push(u(i,n,r));return()=>{for(var e of t)e()}}var t=this.e||(this.e={});return(t[e]||(t[e]=[])).push({fn:n,ctx:r}),()=>{this.off(e,n)}},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n||null,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){var t,n=Re(arguments,1),e=((this.e||(this.e={}))[e]||[]).slice();e.length;for(t of e)t.fn.apply(t.ctx,n);return this},emit_async:async function(e){for(var t,n=Re(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),i=0,a=r.length;i<a;i++)(t=r[i].fn.apply(r[i].ctx,n))instanceof Promise&&await t;return this},off:function(e,t){if(O(e))for(var n of e)this.off(n,t);else{var r=this.e||(this.e={}),i=r[e],a=[];if(i&&t)for(var o=0,c=i.length;o<c;o++)i[o].fn!==t&&i[o].fn._!==t&&a.push(i[o]);a.length?r[e]=a:delete r[e]}return this}},r=new Tt,o=function(){return r.once.apply(r,arguments)},i=function(){r.off.apply(r,arguments)},A=function(){r.emit.apply(r,arguments)},(u=function(){return r.on.apply(r,arguments)})("menu",function(e,t,n){n&&"socialwidget"===e.key&&bt()}),u("menu",async function(e,t,n){n&&"language-index"===e.key&&(await v("lg-widget",p),SETUP_LG_WIDGET(e))});var Ot=m("script",{async:!0});function jt(e,t){if(He[e])for(var[n,r]of Object.entries(He[e]))t[Se[e][n]]=r}function Pt(n,r){var e=n,t=void 0;if(!Ne[e]&&(Ne[e]=!0,t=Ct(e)))for(var i of t)i&&Et(i);return mt(function(t){He[n]?(r&&jt(n,r),t(He[n])):o("vrs:"+n,function(e){r&&jt(n,r),t(He[n])})})}function Ct(e,t){var n=(w.bab||"")+"/js/";if("print-css"===e){if(!T.printcss)return He[e]=[],Se[e]=[],A("vrs:"+e,[]),!1;t=n+"print/"+T.printcss+".js"}else t=n+e+".js";return[t]}async function v(e,t){return Xt(!1,e,t)}async function Dt(e){q(e=O(e)?e:[e],function(e,t,n){if(!Le[t]&&!Ne[t]&&(Le[t]=!0,n=Ct(t))){a=a||m("link",{rel:"preload",as:"script"});for(var[r,i]of n.entries())C(U,P(a,{src:i}))}})}async function Xt(t,e,n,r){n=n||p,await ht(),r=[];for(var i of e=O(e)?e:[e])r.push(Pt(i,n));return gt(r).then(function(e){return t&&t(e),e})}function Rt(n,r){return q(Pe,function(e,t){t.btn!==n&&t.key!==n||((r=t).index=e)}),r}async function Vt(e,r,i){if(qt(),i=Rt(e)){if(!i.target&&("bottom"===i.position&&(i.target=E("#"+i.key+",.widget."+i.key),Pe[i.index]=i),!i.target))return _("no target",i);if(!(M(r)&&(r=i.active_el||i.btn?!L(i.active_el||i.btn,"active"):r)&&i.target&&L(i.target,"show"))){r&&(ee=i,yt(function(){we?history.pushState("dropmenu",null,null):xe.hash="#dropmenu"},!0));let e;return i.setup||(i.modules&&await v(i.modules,p),e=!0,i.setup=!0,i.target&&g(i.target,{display:void 0}),i.btn&&"LI"===D(i.btn).nodeName&&(Pe[i.index].active_el=D(i.btn))),A("menu",i,r,e),mt((e,t)=>{x(async function(){G(s,"fromsticky",!r||!L(z,"sticky"));let n=/^dropmenu($|_)/;q(s.classList,function(e,t){n.test(t)&&G(s,t,!0)}),G(s,["dropmenu","dropmenu_"+i.position,"dropmenu_"+i.key,"noscroll"],!r),i.html_class&&G(s,i.html_class,!r),q(Pe,function(e,t){t.target&&G(t.target,"show",!0),(t.active_el||t.btn)&&G(t.active_el||t.btn,"active",!0)}),r&&(G(i.target,"show",!r),i.active_el||i.btn)&&G(i.active_el||i.btn,"active",!r),i.rendered=!0,A("menu_render",i,r),e(i)})})}x(function(){G(i.target,"show",!0),Vt(e,r)})}}function qt(e){if((e=e||ee)&&e.events)try{for(var t of e.events)Fe(t)&&t()}catch(e){}}function Ut(e){(e=ee)&&(e.rendered=!1),x(function(){{G(s,["noscroll","fromsticky"],!0);let n=/^dropmenu($|_)/;q(s.classList,function(e,t){n.test(t)&&G(s,t,!0)}),q(Pe,function(e,t){t.target&&G(t.target,"show",!0),(t.active_el||t.btn)&&G(t.active_el||t.btn,"active",!0)})}}),ee=!1,qt(e),A("menu_close"),"dropmenu"===history.state&&yt(function(){history.back()})}function zt(t,e,n,r){return t.key?Rt(t.key)?_("menu exists: "+t.key):(e?(r=R(e,"data-config"),(t=r?Object.assign(r,t):t).position||X(e,"reader")&&(t.position="bottom"),t.modules&&(t.modules=t.modules.split(","),j(["mouseover","touchstart","focus"],function(e){v(t.modules,p)},e)),t.btn=e):t.btn=!1,n||(t.target?Ke(t.target)&&(n=E(t.target)):n=E("#"+t.key+",.widget."+t.key)),n?(r=R(n,"data-config"),(t=r?Object.assign(r,t):t).target=n,t=Object.assign({position:"top",events:[]},t),void Pe.push(t)):_("menu",t.key)):_("menu",t)}u("esc",function(){Ut()}),j(["hashchange","popstate"],function(e){Z||Ut()},T),u("#",function(e){Z=e}),u("menu:close",function(){Ut()}),pt(function(){x(function(){(menubtns=I("[data-menu],[data-menu-open]")).length&&(q(menubtns,function(e,t,n,r,i,a,o,c){(i=H(t,"data-menu"))&&zt({key:i},t)}),j("click",function(e,t,n,r){e.preventDefault(),(t=X(e.target,function(e){return S(e,"data-menu")||S(e,"data-menu-open")}))&&(e.stopPropagation(!0),Rt(e=S(t,"data-menu")?t:H(t,"data-menu-open")),Vt(e))},menubtns))})}),j(["click"],async function(e,t,n,r,i,a){if(t=e.target,ee){for(i=ft((n=ee).target);t&&t!==f;){if(t===i||t===n.btn||t!==e.target&&L(t,"widget"))return;if("A"===t.nodeName&&Rt(t))return;t=D(t)}Ut()}},T);var Bt,Wt,Kt,Ft,Jt,Qt,$t,Yt,n,Zt={};function y(e,t,n,r){e.customClasses&&G(e,e.customClasses,!0),r&&r.readerInfo&&r.readerInfo.classes&&(G(e,r.readerInfo.classes),e.customClasses=r.readerInfo.classes),!t&&""!==t||(e.innerHTML=t),isNaN(n)?N(e,{"data-index":void 0}):N(e,{"data-index":n})}function en(e,t,n){return"link"===e.type&&e.chapterTitle?e.chapterTitle:(n=e.chapterTitle||e.innerHTML,!1!==t&&e.chapterIndex?e.chapterIndex+" "+n:n)}function tn(e,t){return t=!!e&&parseInt(H(e,"data-index")),!isNaN(t)&&t}function nn(e,t){Ut(),e="object"==typeof e?tn(e):e,isNaN(e)||!1===e||(Kt&&clearTimeout(Kt),Ft&&(Ft(),Ft=!1),t=HTAGS[e],(W=t).readerInfo,an(t),B=!0,Ft=j("scroll",function(e){Kt&&clearTimeout(Kt),Kt=setTimeout(function(){B=!1,Ft(),Ft=!1},1e3)},T),V(t,{inline:"start",behavior:"smooth"}),e=t.chapterTitleText||t.innerText,T.history&&T.history.pushState("",e,b.location.pathname+"#"+t.id),b.title=e)}function rn(){var r=null,i=Number.MAX_VALUE;HTAGS.forEach(function(e){var t=e.getBoundingClientRect(),n=T.innerHeight-t.bottom;t.top<T.innerHeight&&n<i&&(r=e,i=n)}),an(r)}function an(t){var e,n,r,i;if(t){NEXTTAG=HTAGS.slice(HTAGS.indexOf(t)+1).shift(),Bt=NEXTTAG;let e=1;for(;Bt&&!Bt.arrow;)e++,Bt=HTAGS.slice(HTAGS.indexOf(t)+e).shift();var a,o,c,s=HTAGS.slice(0,HTAGS.indexOf(t));for(PREVTAG=s.pop(),Wt=PREVTAG;Wt&&!Wt.arrow;)Wt=s.pop();c=L(t,"subchapter")||"link"===t.type||t.readerInfo&&t.readerInfo.subchapter?(a=t,o=HTAGS.lastIndexOf(a),HTAGS.slice(0,o).filter(function(e){return!(!e.readerInfo||!e.readerInfo.chapter)||e.classList.contains("chapter")}).pop()):t}else NEXTTAG=!1,PREVTAG=Bt=!1,PREVLIN=!1;c&&(e=c.id),a&&(n=a.id),PREVTAG&&(r=PREVTAG.id),NEXTTAG&&(i=NEXTTAG.id);var f=(f=a?a.index:!!c&&c.index)&&parseInt(f);x(function(){G(I("li.active",pe),"active",!0),q(he,function(e,t){f===t.index&&G(D(t),"active")})}),Ee.chapter===e&&Ee.subchapter===n&&Ee.prev===r&&Ee.next===i||(Ee.chapter=!!c&&c.id,Ee.subchapter=!!a&&a.id,Ee.prev=!!PREVTAG&&PREVTAG.id,Ee.next=!!NEXTTAG&&NEXTTAG.id,x(function(){var e;c?(y(ce,en(c),c.index,c),a?(y(se,en(a),a.index,a),G(oe,"no-subchapter",!0)):(y(se),G(oe,"no-subchapter"))):(ce.innerHTML=re,y(ce,re),y(se),G(oe,"no-subchapter"),NEXTTAG=HTAGS[0]),Wt?(y(fe,!1,HTAGS.indexOf(Wt)),N(fe,{title:P(k,null,Wt.chapterTitle,!0).innerText,href:"#"+(Wt.id||"")}),G(d,"no-prev",!0)):(N(fe,{title:"",href:"#"}),G(d,"no-prev"),y(fe)),NEXTTAG&&(L(NEXTTAG,"subchapter")||"link"===NEXTTAG.type?(e=HTAGS.lastIndexOf(NEXTTAG),(e=HTAGS.slice(0,e).filter(function(e){return!(!e.readerInfo||!e.readerInfo.chapter)||L(e,"chapter")}).pop()).id===Ee.chapter?(y(le,""),G(d,"same-chapter")):(y(le,en(e),e.index,e),G(d,"same-chapter",!0)),y(de,en(NEXTTAG),NEXTTAG.index,NEXTTAG),G(d,"no-subchapter",!0)):(y(de,""),y(le,en(NEXTTAG),NEXTTAG.index,NEXTTAG),G(d,"no-subchapter"),G(d,"same-chapter",!0))),Bt?(e=HTAGS.indexOf(Bt),y(ue,!1,e,!!e&&HTAGS[e]),N(ue,{title:P(k,null,Bt.chapterTitle,!0).innerText,href:"#"+(Bt.id||"")}),G(d,"no-next",!0)):(y(ue),N(ue,{title:"",href:"#"}),G(d,"no-next"))}))}function on(e,t,n,r){t=H(e,"data-chapter-id"),"A"===e.nodeName&&/^#/.test(H(e,"href"))&&N(e,{href:"#"+t}),(n=Zt[t])&&((r=(r=E("span.num",e))||E("span",e))&&(r.innerHTML=n.chapterIndex),(r=E(".name",e))&&(S(e,"data-index-title")?r.innerHTML=n.readerInfo.indexTitle||n.chapterTitle:r.innerHTML=n.chapterTitle),N(e,{"data-index":H(n,"data-index"),title:n.chapterTitleText}))}function cn(t){if(/^#/.test(t)){let e=E(t);if(e)return"TEMPLATE"===e.nodeName?e=$e(e):ct(e),Mt(!0,e=P(k,null,e)),e.innerHTML}return t}async function sn(){$t||(await v(["printer","print-css"],p),$t=!0)}ht(function(){if(te=E("#reader"),!L(ne=E(".reader-container"),"disabled")&&!L(f,"no-reader")){C(f,ne),re=H(te,"data-foreword"),ie=E(".index-btn",te),oe=te.querySelector(".status > .cur"),ce=oe.querySelector("span.chapter"),se=oe.querySelector("span.subchapter"),d=te.querySelector(".status > .next"),fe=d.querySelector("a.prev"),ue=d.querySelector("a.next"),le=d.querySelector("span.chapter"),de=d.querySelector("span.subchapter"),pe=E("#reader-index"),j("click",function(e){e.preventDefault(),e.target,e.target===fe&&d.classList.contains("no-prev")||e.target===ue&&d.classList.contains("no-next")||nn(e.target)},[fe,ue]),ebook_download_setup=!1,Array.from(I(".reader-index,.download-index",ne)),j("click",function(e){e.preventDefault(),e.stopPropagation(),t||(Mt(),t=!0)},ie),u("menu_render",function(e,t){"reader-index"===e.key&&(me=t)&&(active=E("li.active",pe))&&V(active,{block:"center"})});var t,e=E("main"),n=[".reader-link"];if(["h1","h2","h3","h4","h5","p"].forEach(function(e){n.push(e+".chapter,"+e+".subchapter")}),0===(HTAGS=Array.from(I(n.join(","),e))).length){var r=1,i=e.querySelectorAll("h1.bighead");if(0===i.length&&(r=2,i=e.querySelectorAll("h2.bighead")),0===i.length&&(r=3,i=e.querySelectorAll("h3.bighead")),0<i.length){hbig=Array.from(e.querySelectorAll(".bighead")),i=Array.from(i),h1first=hbig.indexOf(i[0]);for(var a=[],o=1;o<=5;o++)o<=r||a.push("h"+o+".bighead");a.length&&(h2big=I(a.join(","),e)),G(i,"chapter"),h2big.length&&(h2big=Array.from(h2big)).forEach(function(e){G(e,hbig.indexOf(e)<h1first?"chapter":"subchapter")})}HTAGS=Array.from(I(n.join(","),e))}if(j("click",function(e,t,n){e.preventDefault(),(n=E(H(X(e.target,e=>"A"===e.nodeName),"data-chapter-link")))&&(nn(n),n.id,en(n))},I("[data-chapter-link]",e)),0===HTAGS.length)G(te,"disabled");else{var v,i=s.getAttribute("lang");try{v=new Intl.NumberFormat(i,{minimumFractionDigits:0,maximumFractionDigits:0})}catch(e){}var y=b.createElement("li"),e=b.createElement("a"),i=b.createElement("span"),c=b.createElement("span");G(i,"num"),c.classList.add("text"),e.appendChild(i),e.appendChild(c),y.appendChild(e),x(function(){for(var e,t,n,r,i,a,o,c,s,f,u,l=[],d=0,p=0,h=HTAGS.length;p<h;p++){if((tag=HTAGS[p]).id||(tag.id="_h"+p),tag.type=!1,N(tag,{"data-index":tag.index=p}),u=c=s=!1,a=L(tag,"chapter")?(l=[[++d,0]],o=!(i=!0)):(i=!1,o=(o=H(tag,"data-level"))&&parseInt(o),L(tag,"subchapter")),t=E("a",e=P(y)),n=E("span.num",t),r=E("span.text",t),L(tag,"reader-link")){s=!0;try{c=R(tag,"data-reader-link")}catch(e){_(e);continue}M(c.arrow)&&(c.arrow=!1),c.level&&(o=c.level),c.classes&&(c.classes=u=O(c.classes)?c.classes:[c.classes]),c.title&&(c.title=cn(c.title)),c.indexTitle&&(c.indexTitle=cn(c.indexTitle)),r.innerHTML=c.title||tag.innerHTML,c.chapter?(tag.readerInfo=c,r.innerHTML=(c.emoji?"<span class=e"+(c.emoji_anim?' data-anim="'+c.emoji_anim+'"':"")+">"+c.emoji+"</span> ":"")+(c.title||tag.innerHTML),tag.chapterTitle=r.innerHTML,o=!(i=!(s=!(l=[[++d,0]])))):c.subchapter?(a=!0,tag.readerInfo=c,r.innerHTML=(c.emoji?"<span class=e"+(c.emoji_anim?' data-anim="'+c.emoji_anim+'"':"")+">"+c.emoji+"</span> ":"")+(c.title||tag.innerHTML),tag.chapterTitle=r.innerHTML,s=!1):(e.classList.add("reader-link"),tag.readerInfo=c,tag.type="link",tag.chapterTitle=(c.emoji?"<span class=e"+(c.emoji_anim?' data-anim="'+c.emoji_anim+'"':"")+">"+c.emoji+"</span> ":"")+" "+r.innerHTML)}else{if(S(tag,"data-reader-info"))try{c=R(tag,"data-reader-info")}catch(e){_(e);continue}c?(c.title&&(c.title=cn(c.title)),c.indexTitle&&(c.indexTitle=cn(c.indexTitle)),c.chapterTitle&&(c.chapterTitle=cn(c.chapterTitle)),c.level&&(o=c.level),tag.readerInfo=c,r.innerHTML=(c.emoji?"<span class=e"+(c.emoji_anim?' data-anim="'+c.emoji_anim+'"':"")+">"+c.emoji+"</span> ":"")+(c.chapterTitle||c.title||tag.innerHTML),tag.chapterTitle=r.innerHTML,c.classes&&(c.classes=u=O(c.classes)?c.classes:[c.classes])):(tag.chapterTitle=tag.innerHTML,r.innerHTML=tag.innerHTML)}var m=P(k);if(m.innerHTML=tag.chapterTitle,tag.chapterTitleText=tag.readerInfo&&tag.readerInfo.titleText?tag.readerInfo.titleText:m.innerText,tag.arrow=!(!M(tag.readerInfo)&&!M(tag.readerInfo.arrow))||tag.readerInfo.arrow,tag.readerInfo&&tag.readerInfo.indexTitle&&(r.innerHTML=c.indexTitle),tag.readerInfo&&tag.readerInfo.emoji_anim&&(Lt(E("[data-anim]",m=P(k,null,lt(tag.chapterTitle))),!0),tag.chapterTitle=m.innerHTML),isNaN(o)||!1===o||o--,o<0&&(o=0),tag.readerInfo||(tag.readerInfo={}),tag.readerInfo.level=o,i||tag.readerInfo.chapter?tag.readerInfo.chapter=!0:(a||tag.readerInfo.subchapter)&&(tag.readerInfo.subchapter=a),i)G(e,"chapter"),d&&G(e,"chapter-"+d.toString().replace(/\./,"-")),n.innerHTML=(v?v.format(d):d)+".",tag.chapterIndex=n.innerHTML;else{if(void 0===l[o]&&(void 0===l[o-1]?(console.error("invalid parent",tag,l,o),l[o]=[-1,0]):l[o]=[l[o-1][1],0]),s)n.innerHTML="&nbsp;",G(a_num_sub=P(n),"e"),a_num_sub.innerHTML=c.emoji||"📌",c.emoji&&c.emoji_anim&&N(a_num_sub,{"data-anim":c.emoji_anim}),n.parentNode.insertBefore(a_num_sub,n.nextSibling);else{for(;l[o+1];)l.pop();l[o][1]++,f=[],l.reverse().forEach(function(e){(a_num_sub=P(n)).innerHTML=(v?v.format(e[1]):e[1])+".",n.parentNode.insertBefore(a_num_sub,n.nextSibling),f.push(a_num_sub.innerHTML)}),l.reverse(),n.innerHTML=(v?v.format(l[0][0]):l[0][0])+".",f.reverse(),f.unshift(n.innerHTML),tag.chapterIndex=f.join("")}G(e,"subchapter"),u&&G(e,u),0<o&&G(e,"l"+(o+1))}N(t,{"data-index":p,href:(Zt[tag.id]=tag).readerInfo&&tag.readerInfo.link?tag.readerInfo.link:"#"+tag.id}),C(pe,e)}imgs=Array.from(E("img[data-d],img[data-z],img[data-zd],[data-anim]",pe,!0)),A("i",imgs);var g=Array.from(I(".chapter-link"));q(g,function(e,t,n,r,i){on(t)}),q(he=Array.from(I("[data-index]",pe)),function(e,t){he[e].index=parseInt(H(t,"data-index"))}),b.location.hash&&function(){var e;try{if(!(e=E(b.location.hash.toString())))return;var t=tn(e);if(isNaN(t)||!1===t)return;e=HTAGS[t]}catch(e){return console.error("hash",e)}function n(){e.readerInfo,V(e,{inline:"start",behavior:"smooth"})}Mt();t=e.chapterTitleText||e.innerText;T.history&&T.history.replaceState("",t,b.location.pathname+"#"+e.id),b.title=t,n(),x(function(){n()}),setTimeout(function(){n()},1e3)}(),g.length&&j("click",function(e){var t=X(e.target,"chapter-link"),n=tn(t);isNaN(n)||!1===n||(e.preventDefault(),e.stopPropagation(!0),e=HTAGS[n],nn(t),e.id,en(e))},g),j("click",function(e){e.preventDefault();for(var t=e.target;!t.classList.contains("reader-link")&&"A"!==t.tagName;)t=t.parentElement;var n,e=tn(t);isNaN(e)||!1===e||((n=(e=HTAGS[e]).readerInfo)&&n.link?n.target&&"_blank"===n.target?T.open(n.link):b.location.href=n.link:(nn(t),en(e)))},he),w.reader_ready=!0,A("reader-setup-done")}),j("scroll",function(){var e=T.scrollY/(f.offsetHeight-T.innerHeight)*100;x(function(){g(te,{"border-image-source":"linear-gradient(to right, var(--readerbarfill) "+e+"%, var(--readerbar) 0%)"})}),B||rn()},T),j("wheel",function(e){Kt&&clearTimeout(Kt),Ft&&Ft(),B=!1},T),j("keydown",function(e){if(me){if("Escape"===event.key)return Ut();var t=D(pe);"ArrowUp"===event.key?t.scrollTop-=50:"ArrowDown"===event.key&&(t.scrollTop+=50)}},b),rn(),j("keydown",function(e,t,n){if(-1!==["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)||e.altKey||e.ctrlKey)return!1;if(37==e.keyCode){if(T.pageXOffset<=0)if(e.preventDefault(),0===(t=tn(fe))&&W&&tn(W)===t)V(E("header")),W=!1;else{for(n=HTAGS[t];n&&!n.arrow;)if(t--,n=HTAGS[t],t<0||!n){t=!1;break}!1!==t?nn(t):(V(E("header")),W=!1)}}else if(39==e.keyCode&&b.body.scrollWidth-T.innerWidth<=T.pageXOffset){for(e.preventDefault(),t=tn(ue),n=HTAGS[t];n&&!n.arrow;)if(t++,!(n=HTAGS[t])){t=!1;break}!1!==t?nn(t):V(E("footer"))}},b)}}}),-1!==b.cookie.indexOf("ebook-printer=")&&(K=!0),T._export=async function(e){await v(["printer","printer-export"],p);var t=Re(arguments,1);if("print"!==e)return"epub"===e?(n&&(it(n),n=!1),A("print",Yt=!0),EXPORT_EPUB.apply(EXPORT_EPUB,t)):"toc"===e?EXPORT_TOC.apply(EXPORT_TOC,t):void 0;n&&(it(n),n=!1),A("print",Yt=!0)},j(["beforeprint","afterprint"],function(e){A("print",!("afterprint"===e.type))},T);var fn=Ve("print");function un(){var e=(w.bab||"")+"/images/";return Q||(N(Q=m("img",{class:"moon",width:1,height:1}),{src:It(e+"moon.png",Q)}),C(f,Q),setTimeout(function(){G(Q,"move")},1e4)),T.starsloaded||(starbg=new Image,T.starsloaded=starbg.src=It(e+"stars.png",starbg,function(){g(f,{"background-image":"url("+starbg.src+")"})}))}function ln(){$||($=!0,Ue("✨ dark theme"),l=!0,G(s,"dark"),ot(T.darkcss))}j("change",function(e){A("print",!!e.matches)},fn),u("print",function(e){if(e||n&&(it(n),n=!1),e&&!Yt){if(Mt(Yt=!0),!(n=E("#book-print-intstructions")))return _("#book-print-intstructions not found");n=P(k,{class:"book-print-instructions"},$e(n)),Ze(ft(E("main")),n)}!async function(){if(e){if(K=!0,Qt)return;Qt=!0,await sn(),PRINT_BOOK(),Jt=l,A("dark",!1),console.info("🖨️","print view enabled")}else{if((K=!1)===Qt)return;Qt=!1,A("dark",l=Jt)}Array.from(E('a[href^="/"]',E("#main-content"),!0)).length}()}),fn.matches&&A("print",!0),ht(()=>{Dt("printer")}),K&&pt(async function(e,t,n,r,i){Mt(!0),await sn(),x(function(){PRINT_BOOK()})}),Ve("(prefers-color-scheme: dark)");try{(l=L(s,"dark"))&&ln()}catch(e){_(e)}u("dark",function(e,t,n,r,i){e?(l=!0,ln(),i=un()):(l=!1,T.starsloaded=!1,g(f,{"background-image":""})),Ae.setItem("dark",l?i:"0"),x(function(){G(s,"dark",!l),q(E("img[data-d],img[data-zd]",!1,!0),function(e,t){Gt(t)}),l?(G(E("#darkswitch .dark"),"active"),G(E("#darkswitch .light"),"active",!0)):(G(E("#darkswitch .light"),"active"),G(E("#darkswitch .dark"),"active",!0))})}),ht(()=>{if(!K){var u="7f8fd639-93a3-478f-a502-1b5391981af1";let e=T.screen.width+"x"+T.screen.height,t=new Set(["A","BUTTON"]),a=T.location.href,o=b.referrer,i="",c={apiHost:"https://api-gateway.umami.dev",excludeSearch:!1,excludeHash:!1,allowedDomains:[]},n=()=>({website:u,screen:e,language:T.navigator.language,title:b.title,hostname:T.location.hostname,url:a,referrer:o}),r=async(e,t="event")=>{try{var n={"Content-Type":"application/json"},r=(i&&(n["x-umami-cache"]=i),await(await fetch(c.apiHost+"/api/send",{method:"POST",headers:n,body:JSON.stringify({type:t,payload:e}),credentials:"omit"})).json());r&&(i=r.cache)}catch(e){console.error("Umami error:",e)}},s=(e,t)=>{t="string"==typeof e?{...n(),name:e,data:t}:"object"==typeof e?e:e(n());r(t)},f=()=>r(n());T.umami=T.umami||{track:s,identify:(e,t)=>{r({...n(),id:e,data:t},"identify")}},["pushState","replaceState"].forEach(e=>{let i=T.history[e];T.history[e]=function(e,t,n){var r=i.apply(this,arguments);return(n=n)&&(o=a,(n=new URL(n,T.location.href)).search=c.excludeSearch?"":n.search,n.hash=c.excludeHash?"":n.hash,(a=n.toString())!==o)&&setTimeout(f,300),r}}),f(),b.addEventListener("click",async e=>{let n=e.target;for(let e=0;e<5&&n&&n!==b&&!t.has(n.tagName);e++)n=n.parentElement;var r=n?.dataset?.umamiEvent;if(r){let t={};Object.keys(n.dataset).forEach(e=>{e.startsWith("umamiEvent-")&&(t[e.slice(11)]=n.dataset[e])}),"A"===n.tagName&&!("_blank"===n.target||e.ctrlKey||e.metaKey||e.shiftKey)&&n.href?(e.preventDefault(),await s(r,t),T.location.href=n.href):s(r,t)}},!0)}}),ht(()=>{var e=I(".show-link");e.length&&j("click",e=>{var t,e=X(e.target,"show-link");e&&(t=E((e=R(e,"data-config")).target),e=e.scroll_target?E(e.scroll_target):t,t)&&(G(t,"show"),V(e||t,!0))},e)}),j("keydown",function(e){"esc"!==e.key&&"Escape"!==e.key||A("esc",e)},b),u("menu_render",function(e,t){t&&G(z,"sticky")}),fn=[T,b,s,w,Ae,pt,Xt,ht,Pt,function(e,t){if(O(t)&&t[0]&&O(t[0])){He[e]=[],Se[e]=[];for(var n of t)He[e].push(n[0]),Se[e].push(n[1])}else He[e]=t;A("vrs:"+e,t)},_,Ue,function(e,t,n,r,i){},Et,It,Xe,E,I,ct,st,function(e){return"none"===e.style.display},V,function(e,...t){return J[e]?Me.test(J[e])?kt(J[e],...t):J[e]:""},kt,H,N,S,ze,g,at,L,G,M,function(e){return!isNaN(e)},O,Ke,Fe,Be,h,function e(t,n,r,i){if(O(t)){i=!1;for(var a of t){if(!e(a,n)){i=!1;break}if(r)return!0;i=!0}return i}return-1!==n.indexOf(t)},function(e){return[...new Set(e)]},Re,q,qe,j,Je,Qe,x,m,P,$e,C,et,tt,D,X,it,ft,function(e,t){return(t=!!M(t)||t)?e.lastElementChild:e.lastChild},ut,function e(t,n,r){return r=t.previousElementSibling,1<(n=n||1)?e(r,--n):r},Ze,function(e,t){return ut(e)?Ze(ut(e),t):C(D(e),t)},rt,nt,k,_e,e,t,lt,R,ot,u,o,i,A,mt,xt,_t,Ve,At,wt,function(e,t,n){n=M(t)?e:Math.floor(Math.random()*(t-e+1))+e,new Promise(function(e){setTimeout(e,n)})},Dt,v,we,yt,vt,St,function(e,t){return t=e.replace(Oe,""),len=t.length,t.substring(0,2)+"/"+(2<len?t.substring(2,4)+"/":"")+e+"/"},je,function e(t,n,r,i,a){if(O(t)||h(t))for(var o of t)e(o,n,r,i,a);else(r=t instanceof Node?t:E(t))&&r.scrollWidth>r.clientWidth?(n=n&&n!==t?E(n):r)&&function e(t,n,r,i){(size=r.shift())&&(G(t,size),x(function(){n.scrollWidth>n.clientWidth&&r.length?e(t,n,r,i):i&&i()}))}(n,r,i=i||["small","tiny","tiny2","tiny3","tiny4"]):ae||x(function(){e(t,n)})},function(e){J=Object.assign(J,e)},zt,Vt,Rt,Mt,on],T.VRS=fn,pt(function(e,t,n,r,i){f=b.body,U=b.head,z=E("nav.nav"),j("click",function(e){A("dark",!l)},E("#darkswitch > span"));try{if(e=JSON.parse(E("script#jsdata",U).textContent)){for(var[a,o]of Object.entries(e))w[a]=o;J=w.p,w.locale=w.LG.replace("_","-")}}catch(e){}w.mod&&v(w.mod,p),(n=E("#dark"))&&j(["click","change"],function(){A("dark",n.checked)},n),l&&(un(),n)&&(n.checked=!0),Y=At(I(Ie),function(e,t,n){e&&(Gt(n),Y.observe(n,!0))},{threshold:0,rootMargin:"0px"},!0),u("i",function(e){Y.observe(e)});let c=I(".inview-module");if(c.length){let r=At(c,function(e,t,n){e&&!n.inview_loaded&&(s(n),n.inview_loaded=!0)},{threshold:0,rootMargin:"0px"},!0);function s(e){for(var t of e=e?[e]:Array.from(c))if(!t.inview_loaded){t.inview_loaded=!0;let e=R(t,"data-module",!1);e&&v(e=Ke(e)&&/,/.test(e)?e.split(","):e,p),r.observe(t,!0)}}K?s():u("print",()=>{s()}),q(c,(e,t)=>{var n;t.config={scroll:!0},S(t,"data-module-config")&&(n=R(t,"data-module-config"),t.config=Object.assign(t.config,n),t.config.instant?s(t):t.config.inview&&r.observe(t.config.inview))});let t;Je("scroll",function(e){t||(t=!0,q(c,(e,t)=>{!t.inview_loaded&&t.config.scroll&&(t.config.scroll_timeout?setTimeout(()=>{s(t)},t.config.scroll_timeout):s(t))}))},T)}e=E("div.reader > div.buttons a.lang"),e&&j(["mouseover","touchstart","focus"],e=>{v("lg-widget",p)},e),e=E(".video-container [data-video]",!1,!0);e.length&&j("click",function(e,t,n,r,i){e.preventDefault(),G(D(t=E("[data-video]",X(e.target,"video-container"))),"playing");let a={};switch((n=R(t,"data-video")).type||(a=/vimeo/.test(t.href)?(n.type="vimeo",{src:"https://player.vimeo.com/video/"+n.id,title:"Vimeo video player"}):(n.type="youtube",{src:"https://www.youtube.com/embed/"+n.id+"?autoplay=1",title:"YouTube video player"})),n.video_type||(n.video_type="mp4"===n.type?"mp4":"iframe"),n.video_type){case"iframe":i=Object.assign({width:720,height:405,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0},a),n.attrs&&(i=Object.assign(i,n.attrs)),rt(t,r=m("iframe",i));break;case"mp4":i=Object.assign({width:720,height:405,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",controls:!0,allowfullscreen:!0},a),n.attrs&&(i=Object.assign(i,n.attrs)),r=m("video",i),q(n.sources,(e,t,n)=>{n=m("source",{src:t[0],type:t[1]}),C(r,n)}),rt(t,r);try{r.play()}catch(e){}}},e),E("#download-links")&&v(["book-download","qrcode","mirror"],p),j(["mouseover","touchstart","focus"],function(e){X(e.target,"social",3)&&bt()},I(".reader .buttons .social")),wt(z),T._js_ready=!0,F=!0,qe(Ge)}),ht(function(e){var t,n;K||(j(["click"],async function(e,t,n,r,i,a){t=e.target;let o=/^(\/|#)/;if(a=X(t,function(e){return"CITE"===e.nodeName||L(e,"quote")&&!L(e,"local")&&!L(e,"no-cite")&&("A"===e.nodeName&&!o.test(H(e,"href"))||E("a",e)&&!o.test(H(E("a",e),"href")))||L(e,"pdf-link")||L(e,"cite-link")},4))return a.clickedTarget=X(t,e=>"A"===e.nodeName),e.preventDefault(),e.stopPropagation(),p.SHOW_CITE_POPUP||await v("citewidget",p),a.click_el=t,SHOW_CITE_POPUP(a);a=X(t,function(e){return"A"===e.nodeName},4);a&&(t=H(a,"href"),L(a,"no-scroll")||("#"===t?(e.preventDefault(),e.stopPropagation()):/^#.+/.test(t)&&(t=E(t))&&(e.preventDefault(),e.stopPropagation(),V(t))))},T),E(".footnotes")&&v("footnotes",p),(QUICKNAV=E(".qn"))&&(wt(QUICKNAV,45),j("click",function(e){e.preventDefault(),V(E("header"))},E(".top",QUICKNAV)),j("click",function(e){e.preventDefault();e=H(e.target,"data-href");e&&(b.location.href=e)},E(".next,.prev",QUICKNAV,!0))),(t=I(".rss-follow")).length&&(n=E(".headerbar li.rss"),j("click",function(e,t,r){e.preventDefault(),t=X(e.target,"rss-follow"),(r=H(t,"data-rss"))&&((r=JSON.parse(r)).url||(r.url=t.href),o("menu_render",function(e,t,n){"rssmenu"!==e.key||e.rss_setup||(e.rss_setup=!0,e.target.firstElementChild,x(function(){var i=E(".primary"),a=E(".desc",i);(r.desc?(a.innerHTML=r.desc,ct):st)(a),N(a=E(".url",i),{href:r.url}),a.innerHTML=a.pathname,i=E(".all"),("all"===r.type?st:ct)(i),i=E(".topics > div"),a=P(ft(i)),nt(i),q((void 0).topics,function(e,t,n){E("span",n=P(a)).innerHTML=t.title;var r=E("a",n);r.href="/"+t.slug+"/rss.xml",r.innerHTML=r.pathname,C(i,n)})}))}),Vt(n,!0))},t)))})}(window,document);