!function(r,t,l,f,a,n,i,c,p,e,d,u,s,$,q,C,m,h,J,P,X,Y,L,Q,g,v,W,Z,ee,oe,b,k,w,re,te,y,ae,ne,ie,ce,pe,se,I,le,fe,de,ue,me,O,_,E,x,N,R,j,he,ge,A,ve,be,B,G,K,ke,we,M,ye,Ie,Oe,_e,Ee,o,S,xe,Ne,Re,je,Ae,Be,Ge,Ke,Me,Se,Te,Ve,ze,De,Fe,He,Ue,$e,qe,Ce,Je,Pe,Xe,T,Ye){o("@font-face{font-display:swap;font-family:'Noto Color Emoji';font-style:normal;font-weight:400;src:url('/fonts/noto-color-emoji-400.woff2') format('woff2'),url('/fonts/noto-color-emoji-400.ttf') format('truetype')}");var V,z,D,F,H=m("#reader-index"),U=/^h[0-9]{1}$/i;e("printer",[[function e(o){if(!D){if(w(D)){var r=m("main"),t=(F=m(".book-print-instructions"),m("#book-cover")),a=m("#book-last-page"),n=m("#book-toc");if(!t||!n)return d("cover/toc tpl missing");var i,c,p=N();for([i,c]of E(t).entries()){var s=_(M,{class:"book-cover cover-page"+(i+1)},c);T(!0,s),x(p,s)}V=_(M,{class:"book-toc"},E(n)),x(p,V),G(A(r),p),F&&G(A(r),F),a&&x(r,_(M,{class:"book-last-page"},E(a))),BOOK_VIDEO_IMG=O("a",{class:"show-print",target:"_blank"},O("img")),(t=Array.from(m("[data-z],[data-print]",!1,!0))).length?(imgs=[],I(t,function(e,o,r,t,a,n){if(t=g(o,"data-print"),"IFRAME"===o.nodeName||t){if(!(r=g(o,"data-z"))&&!t)return void u(o,"no src");if(n=j(o),b(n,"video-container")?k(n,"hide-print"):(k(o,"hide-print"),n=!1),t){try{t=JSON.parse(t)}catch(e){return}(t=y(t)?{image:t}:t).url||(t.url=r)}else{if(!(t=r.match(YOUTUBE_REGEX))||!t[1])return;t={url:"http://youtube.com/watch?v="+t[1],image:"https://img.youtube.com/vi/"+t[1]+"/0.jpg",classes:"youtube-print"}}a=_(BOOK_VIDEO_IMG,{href:t.url}),t.classes&&k(a,t.classes),requestAnimationFrame(function(){v(m("img",a),{src:t.image})}),K(n||o,a)}imgs.push(o)})):imgs=t,T(imgs),z||(z={},I(["chapter-number"],function(e,o,r){if(!(r=m("#book-"+o)))return d("#book-"+o,"template not found");z[o]=E(r),1===z[o].length&&(z[o]=z[o][0]),v(z[o],{id:null,class:"book-"+o})})),D=!1}if(!f.reader_ready)return console.info("üñ®Ô∏è","wait for reader index"),S("reader-setup-done",e);D=!0,k(l,"book-print"),x(m(".reader-index",V),_(H,{id:null})),T(!1,V),k(h("li.active",V),"active",!0),I(HTAGS,function(e,o,r,t,a,n,i,c){var p;n=o.readerInfo,U.test(o.nodeName)&&o.chapterIndex&&(a=n.print||{},p=o.chapterIndex.replace(/\./g,"-").replace(/-$/g,""),(c=B(o))&&"HR"===c.nodeName&&k(c,"hide-print"),t=!1,(w(a.chapter)||a.chapter)&&(t=E(z["chapter-number"]),x(m("span",t),R(o.chapterIndex)),k(t,["chapter-"+p,"chapter-"+o.id]),G(o,t)),(w(a.newpage)||a.newpage)&&(n.chapter||a.newpage)&&k(t||o,"newpage"),a.cover)&&(!0===a.cover&&(a.cover="#chapter-cover-"+o.id),(c=m(a.cover))?(c=_(M,{class:"book-chapter-cover chapter-cover-"+p+" chapter-cover-"+o.id},E(c)),G(o,c),T(!0,c)):d("chapter cover tpl",a.cover))}),console.info("üñ®Ô∏è","book print mode enabled")}},"PRINT_BOOK"]])}.apply(null,VRS);