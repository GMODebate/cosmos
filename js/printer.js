!function(o,t,l,f,a,n,i,c,p,e,d,u,s,$,q,C,h,m,J,P,X,Y,L,Q,g,v,W,Z,ee,re,b,k,w,oe,te,y,ae,ne,ie,ce,pe,se,I,le,fe,de,ue,he,O,_,E,x,N,R,j,me,ge,A,ve,be,B,G,K,ke,we,M,ye,Ie,Oe,_e,Ee,r,S,xe,Ne,Re,je,Ae,Be,Ge,Ke,Me,Se,Te,Ve,ze,De,Fe,He,Ue,$e,qe,Ce,Je,Pe,Xe,T,Ye){r("@font-face{font-display:swap;font-family:'Noto Color Emoji';font-style:normal;font-weight:400;src:url('/fonts/noto-color-emoji-400.woff2') format('woff2'),url('/fonts/noto-color-emoji-400.ttf') format('truetype')}");var V,z,D,F,H=h("#reader-index"),U=/^h[0-9]{1}$/i;e("printer",[[function e(r){if(!D){if(w(D)){var o=h("main"),t=(F=h(".book-print-instructions"),h("#book-cover")),a=h("#book-last-page"),n=h("#book-toc");if(!t||!n)return d("cover/toc tpl missing");var i,c,p=N();for([i,c]of E(t).entries()){var s=_(M,{class:"book-cover cover-page"+(i+1)},c);T(!0,s),x(p,s)}V=_(M,{class:"book-toc"},E(n)),x(p,V),G(A(o),p),F&&G(A(o),F),a&&x(o,_(M,{class:"book-last-page"},E(a))),BOOK_VIDEO_IMG=O("a",{class:"show-print",target:"_blank"},O("img")),(t=Array.from(h("[data-z],[data-print]",!1,!0))).length?(imgs=[],I(t,function(e,r,o,t,a,n){if(t=g(r,"data-print"),"IFRAME"===r.nodeName||t){if(!(o=g(r,"data-z"))&&!t)return void u(r,"no src");if(n=j(r),b(n,"video-container")?k(n,"hide-print"):(k(r,"hide-print"),n=!1),t){try{t=JSON.parse(t)}catch(e){return}(t=y(t)?{image:t}:t).url||(t.url=o)}else{if(!(t=o.match(YOUTUBE_REGEX))||!t[1])return;t={url:"http://youtube.com/watch?v="+t[1],image:"https://img.youtube.com/vi/"+t[1]+"/0.jpg",classes:"youtube-print"}}a=_(BOOK_VIDEO_IMG,{href:t.url}),t.classes&&k(a,t.classes),requestAnimationFrame(function(){v(h("img",a),{src:t.image})}),K(n||r,a)}imgs.push(r)})):imgs=t,T(imgs),z||(z={},I(["chapter-number"],function(e,r,o){if(!(o=h("#book-"+r)))return d("#book-"+r,"template not found");z[r]=E(o),1===z[r].length&&(z[r]=z[r][0]),v(z[r],{id:null,class:"book-"+r})})),D=!1}if(!f.reader_ready)return console.info("üñ®Ô∏è","wait for reader index"),S("reader-setup-done",e);D=!0,k(l,"book-print"),x(h(".reader-index",V),_(H,{id:null})),T(!1,V),k(m("li.active",V),"active",!0),I(HTAGS,function(e,r,o,t,a,n,i,c){var p;n=r.readerInfo,U.test(r.nodeName)&&r.chapterIndex&&(a=n.print||{},p=r.chapterIndex.replace(/\./g,"-").replace(/-$/g,""),(c=B(r))&&"HR"===c.nodeName&&k(c,"hide-print"),t=!1,w(a.chapter)||a.chapter?(a.chapter=a.chapter||!0,t=E(z["chapter-number"]),x(h("span",t),R(r.chapterIndex)),k(t,["chapter-"+p,"chapter-"+r.id]),G(r,t)):a.chapter=!1,(a.chapter&&w(a.newpage)||a.newpage)&&(n.chapter||a.newpage)&&k(t||r,"newpage"),a.cover)&&(!0===a.cover&&(a.cover="#chapter-cover-"+r.id),(c=h(a.cover))?(c=_(M,{class:"book-chapter-cover chapter-cover-"+p+" chapter-cover-"+r.id},E(c)),G(r,c),T(!0,c)):d("chapter cover tpl",a.cover))}),console.info("üñ®Ô∏è","book print mode enabled")}},"PRINT_BOOK"]])}.apply(null,VRS);